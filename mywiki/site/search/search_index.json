{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to My Space","text":""},{"location":"#cxl-125","title":"cxl 12.5 \u5c04\u624b\u5ea7","text":""},{"location":"#docs","title":"\u8bb0\u70b9\u6709\u7528\u6613\u5fd8\u7684Docs","text":""},{"location":"#_1","title":"\u8bb0\u5f55\u70b9\u5e73\u5e73\u65e0\u5947\u65e5\u5e38","text":""},{"location":"#_2","title":"\u6bd4\u8f83\u6742\u4e71......","text":""},{"location":"#_3","title":"\u4e0d\u5b9a\u671f\u6765\u66f4\u65b0\u66f4\u65b0","text":""},{"location":"documents/algorithm/","title":"\u6392\u5e8f\u7b97\u6cd5","text":""},{"location":"documents/algorithm/#_2","title":"\u5192\u6ce1\u6392\u5e8f","text":"<p>\u6392\u5e8f\u539f\u7406\uff1a</p> <ol> <li>\u6bd4\u8f83\u76f8\u90bb\u7684\u5143\u7d20\u3002\u5982\u679c\u524d\u4e00\u4e2a\u5143\u7d20\u6bd4\u540e\u4e00\u4e2a\u5143\u7d20\u5927\uff0c\u5c31\u4ea4\u6362\u8fd9\u4e24\u4e2a\u5143\u7d20\u7684\u4f4d\u7f6e\u3002</li> <li>\u4ece\u5f00\u59cb\u5230\u7ed3\u5c3e\u5bf9\u6bcf\u4e00\u5bf9\u76f8\u90bb\u5143\u7d20\u91cd\u590d\u6b65\u9aa41\u3002\u6700\u7ec8\u6700\u540e\u4f4d\u7f6e\u7684\u5143\u7d20\u5c31\u662f\u6700\u5927\u503c\u3002</li> </ol> <pre><code>'''\n\u5192\u6ce1\u6392\u5e8f \nO(N^2)\n'''\ndef bubblesort(alist):\nfor i in range(len(alist)-1, 0, -1):    #n-1\u8d9f\u6bd4\u8f83\u4ea4\u6362\nfor j in range(i):\nif alist[j]&gt;alist[j+1]:\nalist[j], alist[j+1] = alist[j+1], alist[j]\nalist=[54,26,93,17,77,31,44,55,20]\nbubblesort(alist)\nprint(alist)\n</code></pre> <pre><code>'''\n\u5192\u6ce1\u6392\u5e8f\u6539\u8fdb:\u5982\u679c\u67d0\u8d9f\u6bd4\u5bf9\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u53d1\u751f\u8fc7\u4ea4\u6362\uff0c\u8bf4\u660e\u5df2\u7ecf\u6392\u597d\u5e8f\u4e86\uff0c\u53ef\u4ee5\u63d0\u524d\u7ed3\u675f\u7b97\u6cd5\n'''\ndef shortbubblesort(alist):\ni=len(alist)-1 #n-1\u8d9f\u6bd4\u8f83\u4ea4\u6362\nexchange=True\nwhile i&gt;0 and exchange:\nexchange=False\nfor j in range(i):\nif alist[j]&gt;alist[j+1]:\nalist[j], alist[j+1] = alist[j+1], alist[j]\nexchange=True\ni = i - 1\n</code></pre>"},{"location":"documents/algorithm/#_3","title":"\u9009\u62e9\u6392\u5e8f","text":"<p>\u6392\u5e8f\u539f\u7406\uff1a 1.\u6bcf\u4e00\u6b21\u904d\u5386\u7684\u8fc7\u7a0b\u4e2d\uff0c\u90fd\u5047\u5b9a\u6700\u540e\u4e00\u4e2a\u7d22\u5f15\u5904\u7684\u5143\u7d20\u662f\u6700\u5927\u503c\uff0c\u548c\u5176\u4ed6\u7d22\u5f15\u5904\u7684\u503c\u4f9d\u6b21\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u5f53\u524d\u7d22\u5f15\u5904\u7684\u503c\u5c0f\u4e8e\u5176\u4ed6\u67d0\u4e2a\u7d22\u5f15\u5904\u7684\u503c\uff0c\u5219\u5047\u5b9a\u5176\u4ed6\u67d0\u4e2a\u7d22\u5f15\u51fa\u7684\u503c\u4e3a\u6700\u5927\u503c\uff0c\u6700\u540e\u53ef\u4ee5\u627e\u5230\u6700\u5927\u503c\u6240\u5728\u7684\u7d22\u5f15 2.\u4ea4\u6362\u6700\u540e\u4e00\u4e2a\u7d22\u5f15\u5904\u548c\u6700\u5927\u503c\u6240\u5728\u7684\u7d22\u5f15\u5904\u7684\u503c</p> <pre><code>'''\n\u9009\u62e9\u6392\u5e8f\uff1b\u6bcf\u8d9f\u4ec5\u8fdb\u884c\u4e00\u6b21\u4ea4\u6362\uff0c\u8bb0\u5f55\u6700\u5927\u9879\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u6700\u540e\u518d\u8ddf\u672c\u8d9f\u6700\u540e\u4e00\u9879\u4ea4\u6362\nO(N^2)\n'''\ndef selectionsort(alist):\nfor i in range(len(alist)-1, 0, -1):\nmaxpos=i\nfor j in range(i):\nif alist[j]&gt;alist[maxpos]:\nmaxpos=j\nalist[maxpos], alist[i] = alist[i], alist[maxpos]\n</code></pre>"},{"location":"documents/algorithm/#_4","title":"\u63d2\u5165\u6392\u5e8f","text":"<p>\u6392\u5e8f\u539f\u7406\uff1a 1.\u628a\u6240\u6709\u7684\u5143\u7d20\u5206\u4e3a\u4e24\u7ec4\uff0c\u5df2\u7ecf\u6392\u5e8f\u7684\u548c\u672a\u6392\u5e8f\u7684\uff1b 2.\u627e\u5230\u672a\u6392\u5e8f\u7684\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u5411\u5df2\u7ecf\u6392\u5e8f\u7684\u7ec4\u4e2d\u8fdb\u884c\u63d2\u5165\uff1b 3.\u5012\u53d9\u904d\u5386\u5df2\u7ecf\u6392\u5e8f\u7684\u5143\u7d20\uff0c\u4f9d\u6b21\u548c\u5f85\u63d2\u5165\u7684\u5143\u7d20\u8fdb\u884c\u6bd4\u8f83\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u5143\u7d20\u5c0f\u4e8e\u7b49\u4e8e\u5f85\u63d2\u5165\u5143\u7d20\uff0c\u90a3\u4e48\u5c31\u628a\u5f85 \u63d2\u5165\u5143\u7d20\u653e\u5230\u8fd9\u4e2a\u4f4d\u7f6e\uff0c\u5176\u4ed6\u7684\u5143\u7d20\u5411\u540e\u79fb\u52a8\u4e00\u4f4d\uff1b</p> <pre><code>'''\n\u63d2\u5165\u6392\u5e8f\nO(N^2)\n'''\ndef insertionsort(alist):\nfor i in range(1, len(alist)):\ncurrentvalue = alist[i]\npos = i\nwhile pos&gt;0:\nif alist[pos-1]&gt;currentvalue:\nalist[pos] = alist[pos-1]  #\u6bd4\u5bf9\u79fb\u52a8,\u4e0d\u65ad\u627e\u65b0\u9879\u7684\u63d2\u5165\u4f4d\u7f6e\npos=pos-1\nelse:\nbreak\nalist[pos]=currentvalue            #\u63d2\u5165\u65b0\u9879\n</code></pre>"},{"location":"documents/algorithm/#_5","title":"\u5e0c\u5c14\u6392\u5e8f","text":"<p>\u5e0c\u5c14\u6392\u5e8f\u662f\u63d2\u5165\u6392\u5e8f\u7684\u4e00\u79cd\uff0c\u53c8\u79f0\u201c\u7f29\u5c0f\u589e\u91cf\u6392\u5e8f\u201d\uff0c\u662f\u63d2\u5165\u6392\u5e8f\u7b97\u6cd5\u7684\u4e00\u79cd\u66f4\u9ad8\u6548\u7684\u6539\u8fdb\u7248\u672c\u3002</p> <p>\u6392\u5e8f\u539f\u7406\uff1a 1.\u9009\u5b9a\u4e00\u4e2a\u589e\u957f\u91cfh\uff0c\u6309\u7167\u589e\u957f\u91cfh\u4f5c\u4e3a\u6570\u636e\u5206\u7ec4\u7684\u4f9d\u636e\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u7ec4\uff1bh\u4e00\u822c\u4eceN/2\u5f00\u59cb\uff0c\u6bcf\u8d9f\u51cf\u534a\u76f4\u52301 2.\u5bf9\u5206\u597d\u7ec4\u7684\u6bcf\u4e00\u7ec4\u6570\u636e\u5b8c\u6210\u63d2\u5165\u6392\u5e8f\uff1b 3.\u51cf\u5c0f\u589e\u957f\u91cf\uff0c\u6700\u5c0f\u51cf\u4e3a1\uff0c\u91cd\u590d\u7b2c\u4e8c\u6b65\u64cd\u4f5c\u3002</p> <pre><code>'''\n\u5e0c\u5c14\u6392\u5e8f\n'''\ndef shellsort(alist):\ngap = len(alist)//2\nwhile gap&gt;0:\nfor startpos in range(gap):\ngapinsertionsort(alist, startpos, gap)\ngap = gap//2\ndef gapinsertionsort(alist, startpos, gap):\nfor i in range(startpos+gap, len(alist), gap):\npos = i\ncurrentvalue = alist[pos]\nwhile pos &gt; startpos:\nif alist[pos-gap] &gt; currentvalue:\nalist[pos] = alist[pos-gap]\npos = pos-gap\nelse:\nbreak\nalist[pos] = currentvalue\n</code></pre>"},{"location":"documents/algorithm/#_6","title":"\u5f52\u5e76\u6392\u5e8f","text":"<p>\u6392\u5e8f\u539f\u7406\uff1a 1.\u5c3d\u53ef\u80fd\u7684\u4e00\u7ec4\u6570\u636e\u62c6\u5206\u6210\u4e24\u4e2a\u5143\u7d20\u76f8\u7b49\u7684\u5b50\u7ec4\uff0c\u5e76\u5bf9\u6bcf\u4e00\u4e2a\u5b50\u7ec4\u7ee7\u7eed\u62c6\u5206\uff0c\u76f4\u5230\u62c6\u5206\u540e\u7684\u6bcf\u4e2a\u5b50\u7ec4\u7684\u5143\u7d20\u4e2a\u6570\u662f 1\u4e3a\u6b62\u3002 2.\u5c06\u76f8\u90bb\u7684\u4e24\u4e2a\u5b50\u7ec4\u8fdb\u884c\u5408\u5e76\u6210\u4e00\u4e2a\u6709\u5e8f\u7684\u5927\u7ec4\uff1b 3.\u4e0d\u65ad\u7684\u91cd\u590d\u6b65\u9aa42\uff0c\u76f4\u5230\u6700\u7ec8\u53ea\u6709\u4e00\u4e2a\u7ec4\u4e3a\u6b62\u3002</p> <pre><code>'''\n\u5f52\u5e76\u6392\u5e8f\nO(NlogN)\n'''\ndef mergesort(alist):\nif len(alist)==1:   #\u57fa\u672c\u7ed3\u675f\u6761\u4ef6\nreturn alist\nmid = len(alist)//2\nlefthalf = alist[:mid]\nrighthalf = alist[mid:]\nmergesort(lefthalf)\nmergesort(righthalf)  #\u9012\u5f52\u8c03\u7528\n###\u4e0b\u9762\u5c06\u5de6\u53f3\u4e24\u90e8\u5206\u7684\u6392\u5e8f\u7ed3\u679c\u62c9\u94fe\u5f0f\u4ea4\u9519\u5f52\u5e76\u5230\u7ed3\u679c\u5217\u8868\u4e2d\ni,j,k=0\nwhile i&lt;len(lefthalf) and j&lt;len(righthalf):\nif lefthalf[i]&lt;=righthalf[j]:\nalist[k++]=lefthalf[i++]\nelse:\nalist[k++]=righthalf[j++]\n##\u5f52\u5e76\u5de6\u534a\u90e8\u5206\u5269\u4f59\u9879\nwhile i&lt;len(lefthalf):\nalist[k++]=lefthalf[i++]\n##\u5f52\u5e76\u53f3\u534a\u90e8\u5206\u5269\u4f59\u9879\nwhile j&lt;len(righthalf):\nalist[k++] = righthalf[j++]\n</code></pre>"},{"location":"documents/algorithm/#_7","title":"\u5feb\u901f\u6392\u5e8f","text":"<p>\u6392\u5e8f\u539f\u7406\uff1a</p> <p>1.\u9996\u5148\u8bbe\u5b9a\u4e00\u4e2a\u5206\u754c\u503c\uff0c\u901a\u8fc7\u8be5\u5206\u754c\u503c\u5c06\u6570\u7ec4\u5206\u6210\u5de6\u53f3\u4e24\u90e8\u5206\uff0c\u4e00\u822c\u8bbe\u5b9a\u5206\u754c\u503c\u4e3a\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff1b 2.\u5c06\u5927\u4e8e\u6216\u7b49\u4e8e\u5206\u754c\u503c\u7684\u6570\u636e\u653e\u5230\u5230\u6570\u7ec4\u53f3\u8fb9\uff0c\u5c0f\u4e8e\u5206\u754c\u503c\u7684\u6570\u636e\u653e\u5230\u6570\u7ec4\u7684\u5de6\u8fb9\u3002\u6b64\u65f6\u5de6\u8fb9\u90e8\u5206\u4e2d\u5404\u5143\u7d20\u90fd\u5c0f\u4e8e \u6216\u7b49\u4e8e\u5206\u754c\u503c\uff0c\u800c\u53f3\u8fb9\u90e8\u5206\u4e2d\u5404\u5143\u7d20\u90fd\u5927\u4e8e\u6216\u7b49\u4e8e\u5206\u754c\u503c\uff1b                                                                                          3.\u7136\u540e\uff0c\u5de6\u8fb9\u548c\u53f3\u8fb9\u7684\u6570\u636e\u53ef\u4ee5\u72ec\u7acb\u6392\u5e8f\u3002\u5bf9\u4e8e\u5de6\u4fa7\u7684\u6570\u7ec4\u6570\u636e\uff0c\u53c8\u53ef\u4ee5\u53d6\u4e00\u4e2a\u5206\u754c\u503c\uff0c\u5c06\u8be5\u90e8\u5206\u6570\u636e\u5206\u6210\u5de6\u53f3\u4e24 \u90e8\u5206\uff0c\u540c\u6837\u5728\u5de6\u8fb9\u653e\u7f6e\u8f83\u5c0f\u503c\uff0c\u53f3\u8fb9\u653e\u7f6e\u8f83\u5927\u503c\u3002\u53f3\u4fa7\u7684\u6570\u7ec4\u6570\u636e\u4e5f\u53ef\u4ee5\u505a\u7c7b\u4f3c\u5904\u7406\u3002 4.\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u662f\u4e00\u4e2a\u9012\u5f52\u5b9a\u4e49\u3002\u901a\u8fc7\u9012\u5f52\u5c06\u5de6\u4fa7\u90e8\u5206\u6392\u597d\u5e8f\u540e\uff0c\u518d\u9012\u5f52\u6392\u597d\u53f3\u4fa7\u90e8\u5206\u7684\u987a\u5e8f\u3002\u5f53 \u5de6\u4fa7\u548c\u53f3\u4fa7\u4e24\u4e2a\u90e8\u5206\u7684\u6570\u636e\u6392\u5b8c\u5e8f\u540e\uff0c\u6574\u4e2a\u6570\u7ec4\u7684\u6392\u5e8f\u4e5f\u5c31\u5b8c\u6210\u4e86\u3002</p> <p>\u628a\u4e00\u4e2a\u6570\u7ec4\u5207\u5206\u6210\u4e24\u4e2a\u5b50\u6570\u7ec4\u7684\u57fa\u672c\u601d\u60f3\uff1a 1.\u627e\u4e00\u4e2a\u57fa\u51c6\u503c\uff0c\u7528\u4e24\u4e2a\u6307\u9488\u5206\u522b\u6307\u5411\u6570\u7ec4\u7684\u5934\u90e8\u548c\u5c3e\u90e8\uff1b 2.\u5148\u4ece\u5c3e\u90e8\u5411\u5934\u90e8\u5f00\u59cb\u641c\u7d22\u4e00\u4e2a\u6bd4\u57fa\u51c6\u503c\u5c0f\u7684\u5143\u7d20\uff0c\u641c\u7d22\u5230\u5373\u505c\u6b62\uff0c\u5e76\u8bb0\u5f55\u6307\u9488\u7684\u4f4d\u7f6e\uff1b 3.\u518d\u4ece\u5934\u90e8\u5411\u5c3e\u90e8\u5f00\u59cb\u641c\u7d22\u4e00\u4e2a\u6bd4\u57fa\u51c6\u503c\u5927\u7684\u5143\u7d20\uff0c\u641c\u7d22\u5230\u5373\u505c\u6b62\uff0c\u5e76\u8bb0\u5f55\u6307\u9488\u7684\u4f4d\u7f6e\uff1b 4.\u4ea4\u6362\u5f53\u524d\u5de6\u8fb9\u6307\u9488\u4f4d\u7f6e\u548c\u53f3\u8fb9\u6307\u9488\u4f4d\u7f6e\u7684\u5143\u7d20\uff1b 5.\u91cd\u590d2,3,4\u6b65\u9aa4\uff0c\u76f4\u5230\u5de6\u8fb9\u6307\u9488\u7684\u503c\u5927\u4e8e\u53f3\u8fb9\u6307\u9488\u7684\u503c\u505c\u6b62\u3002</p> <pre><code>'''\n\u5feb\u901f\u6392\u5e8f\nO(NlogN)\n'''\ndef quicksort(alist):\nquicksorthelper(alist, 0, len(alist)-1)\ndef quicksorthelper(alist, first, last):\nif first&lt;last:\nmidpoint = partition(alist, first, last)\nquicksorthelper(alist, first, midpoint-1)\nquicksorthelper(alist, midpoint+1, last)\ndef partition(alist, first, last):\nmidvalue = alist[first]\nleftmark = first+1\nrightmark = last\nwhile True:\nwhile alist[rightmark] &gt;= midvalue:\nrightmark = rightmark - 1\nif rightmark = fitst:\nbreak\nwhile alist[leftmark] &lt;= midvalue:\nleftmark = leftmark + 1\nif leftmark == last:\nbreak\nif leftmark &gt;= rightmark:\nbreak\nelse\uff1a\nalist[leftmark],alist[rightmark] = alist[rightmark], alist[leftmark]\nalist[first], alist[rightmark] = alist[rightmark], alist[first]\nreturn rightmark\n##\u6d4b\u8bd5\u4ee3\u7801\nalist=[54,26,93,17,77,31,44,55,20]\nquicksort(alist)\nprint(alist)\n</code></pre>"},{"location":"documents/algorithm/#_8","title":"\u5806\u6392\u5e8f","text":""},{"location":"documents/algorithm/#_9","title":"\u6392\u5e8f\u7b97\u6cd5\u7a33\u5b9a\u6027","text":"<p>\u7a33\u5b9a\u6027\u7684\u5b9a\u4e49\uff1a \u6570\u7ec4arr\u4e2d\u6709\u82e5\u5e72\u5143\u7d20\uff0c\u5176\u4e2dA\u5143\u7d20\u548cB\u5143\u7d20\u76f8\u7b49\uff0c\u5e76\u4e14A\u5143\u7d20\u5728B\u5143\u7d20\u524d\u9762\uff0c\u5982\u679c\u4f7f\u7528\u67d0\u79cd\u6392\u5e8f\u7b97\u6cd5\u6392\u5e8f\u540e\uff0c\u80fd\u591f\u4fdd\u8bc1A\u5143\u7d20\u4f9d\u7136\u5728B\u5143\u7d20\u7684\u524d\u9762\uff0c\u53ef\u4ee5\u8bf4\u8fd9\u4e2a\u8be5\u7b97\u6cd5\u662f\u7a33\u5b9a\u7684\u3002</p> <p>\u5192\u6ce1\u6392\u5e8f\uff1a \u53ea\u6709\u5f53arr[i]&gt;arr[i+1]\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u4ea4\u6362\u5143\u7d20\u7684\u4f4d\u7f6e\uff0c\u800c\u76f8\u7b49\u7684\u65f6\u5019\u5e76\u4e0d\u4ea4\u6362\u4f4d\u7f6e\uff0c\u6240\u4ee5\u5192\u6ce1\u6392\u5e8f\u662f\u4e00\u79cd\u7a33\u5b9a\u6392\u5e8f \u7b97\u6cd5\u3002 \u9009\u62e9\u6392\u5e8f: \u9009\u62e9\u6392\u5e8f\u662f\u7ed9\u6bcf\u4e2a\u4f4d\u7f6e\u9009\u62e9\u5f53\u524d\u5143\u7d20\u6700\u5c0f\u7684,\u4f8b\u5982\u6709\u6570\u636e{5(1)\uff0c8 \uff0c5(2)\uff0c 2\uff0c 9 },\u7b2c\u4e00\u904d\u9009\u62e9\u5230\u7684\u6700\u5c0f\u5143\u7d20\u4e3a2\uff0c\u6240\u4ee55(1)\u4f1a\u548c2\u8fdb\u884c\u4ea4\u6362\u4f4d\u7f6e\uff0c\u6b64\u65f65(1)\u5230\u4e865(2)\u540e\u9762\uff0c\u7834\u574f\u4e86\u7a33\u5b9a\u6027\uff0c\u6240\u4ee5\u9009\u62e9\u6392\u5e8f\u662f\u4e00\u79cd\u4e0d\u7a33\u5b9a\u7684\u6392\u5e8f\u7b97\u6cd5\u3002 \u63d2\u5165\u6392\u5e8f\uff1a \u6bd4\u8f83\u662f\u4ece\u6709\u5e8f\u5e8f\u5217\u7684\u672b\u5c3e\u5f00\u59cb\uff0c\u4e5f\u5c31\u662f\u60f3\u8981\u63d2\u5165\u7684\u5143\u7d20\u548c\u5df2\u7ecf\u6709\u5e8f\u7684\u6700\u5927\u8005\u5f00\u59cb\u6bd4\u8d77\uff0c\u5982\u679c\u6bd4\u5b83\u5927\u5219\u76f4\u63a5\u63d2\u5165\u5728\u5176\u540e\u9762\uff0c\u5426\u5219\u4e00\u76f4\u5f80\u524d\u627e\u76f4\u5230\u627e\u5230\u5b83\u8be5\u63d2\u5165\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u78b0\u89c1\u4e00\u4e2a\u548c\u63d2\u5165\u5143\u7d20\u76f8\u7b49\u7684\uff0c\u90a3\u4e48\u628a\u8981\u63d2\u5165\u7684\u5143\u7d20\u653e\u5728\u76f8\u7b49\u5143\u7d20\u7684\u540e\u9762\u3002\u6240\u4ee5\uff0c\u76f8\u7b49\u5143\u7d20\u7684\u524d\u540e\u987a\u5e8f\u6ca1\u6709\u6539\u53d8\uff0c\u4ece\u539f\u65e0\u5e8f\u5e8f\u5217\u51fa\u53bb\u7684\u987a\u5e8f\u5c31\u662f\u6392\u597d\u5e8f\u540e\u7684\u987a\u5e8f\uff0c\u6240\u4ee5\u63d2\u5165\u6392\u5e8f\u662f\u7a33\u5b9a\u7684\u3002 \u5e0c\u5c14\u6392\u5e8f\uff1a \u5e0c\u5c14\u6392\u5e8f\u662f\u6309\u7167\u4e0d\u540c\u6b65\u957f\u5bf9\u5143\u7d20\u8fdb\u884c\u63d2\u5165\u6392\u5e8f ,\u867d\u7136\u4e00\u6b21\u63d2\u5165\u6392\u5e8f\u662f\u7a33\u5b9a\u7684\uff0c\u4e0d\u4f1a\u6539\u53d8\u76f8\u540c\u5143\u7d20\u7684\u76f8\u5bf9\u987a\u5e8f\uff0c\u4f46\u5728\u4e0d\u540c\u7684\u63d2\u5165\u6392\u5e8f\u8fc7\u7a0b\u4e2d\uff0c\u76f8\u540c\u7684\u5143\u7d20\u53ef\u80fd\u5728\u5404\u81ea\u7684\u63d2\u5165\u6392\u5e8f\u4e2d\u79fb\u52a8\uff0c\u6700\u540e\u5176\u7a33\u5b9a\u6027\u5c31\u4f1a\u88ab\u6253\u4e71\uff0c\u6240\u4ee5\u5e0c\u5c14\u6392\u5e8f\u662f\u4e0d\u7a33\u5b9a\u7684\u3002 \u5f52\u5e76\u6392\u5e8f\uff1a \u5f52\u5e76\u6392\u5e8f\u5728\u5f52\u5e76\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ea\u6709arr[i]&lt;arr[i+1]\u7684\u65f6\u5019\u624d\u4f1a\u4ea4\u6362\u4f4d\u7f6e\uff0c\u5982\u679c\u4e24\u4e2a\u5143\u7d20\u76f8\u7b49\u5219\u4e0d\u4f1a\u4ea4\u6362\u4f4d\u7f6e\uff0c\u6240\u4ee5\u5b83\u5e76\u4e0d\u4f1a\u7834\u574f\u7a33\u5b9a\u6027\uff0c\u5f52\u5e76\u6392\u5e8f\u662f\u7a33\u5b9a\u7684\u3002 \u5feb\u901f\u6392\u5e8f\uff1a \u5feb\u901f\u6392\u5e8f\u9700\u8981\u4e00\u4e2a\u57fa\u51c6\u503c\uff0c\u5728\u57fa\u51c6\u503c\u7684\u53f3\u4fa7\u627e\u4e00\u4e2a\u6bd4\u57fa\u51c6\u503c\u5c0f\u7684\u5143\u7d20\uff0c\u5728\u57fa\u51c6\u503c\u7684\u5de6\u4fa7\u627e\u4e00\u4e2a\u6bd4\u57fa\u51c6\u503c\u5927\u7684\u5143\u7d20\uff0c\u7136\u540e\u4ea4\u6362\u8fd9\u4e24\u4e2a\u5143\u7d20\uff0c\u6b64\u65f6\u4f1a\u7834\u574f\u7a33\u5b9a\u6027\uff0c\u6240\u4ee5\u5feb\u901f\u6392\u5e8f\u662f\u4e00\u79cd\u4e0d\u7a33\u5b9a\u7684\u7b97\u6cd5\u3002</p>"},{"location":"documents/sql/","title":"sql","text":""},{"location":"documents/sql/#sql","title":"SQL\u8bed\u53e5\u6267\u884c\u987a\u5e8f","text":""},{"location":"documents/sql/#_1","title":"sql","text":""},{"location":"documents/sql/#_2","title":"sql","text":"<pre><code>SELECT * FROM milk_tea;\nSELECT prod_id, prod_name, 0.9 FROM milk_tea;\nSELECT m.prod_name, m.in_price, m.sale_price * 0.9 AS new_sale FROM milk_tea AS m;\nselect m.prod_name, m.sale_price*0.5 as discount from milk_tea as m;\n</code></pre>"},{"location":"documents/sql/#null","title":"\u5b57\u6bb5\u62fc\u63a5\uff0c\u9047\u5230\u7a7a\u503cNULL\u7ed3\u679c\u76f4\u63a5\u4e3a\u7a7a","text":"<pre><code>SELECT m.*, CONCAT(prod_name, net_w) AS \u4ea7\u54c1\u4fe1\u606f FROM milk_tea AS m;\nselect *, concat(prod_name, net_w) as \u4ea7\u54c1\u4fe1\u606f from milk_tea;\nSELECT m.*, CONCAT(prod_name, '(', sale_price, ')') AS \u4ea7\u54c1\u4fe1\u606f FROM milk_tea AS m;\n</code></pre>"},{"location":"documents/sql/#concat_ws","title":"CONCAT_WS\u8868\u793a\u4ee5\u76f8\u540c\u7684\u62fc\u63a5\u7b26\u62fc\u63a5\uff0c\u81ea\u52a8\u8fc7\u6ee4\u7a7a\u503c,\u62fc\u63a5\u540e\u539f\u7a7a\u503c\u5b57\u6bb5\u5185\u5bb9\u4ecd\u7a7a\uff1b\u53c2\u6570\u7b2c\u4e00\u4e2a\u8868\u793a\u5b57\u7b26\uff0c\u540e\u9762\u8868\u793a\u8981\u62fc\u63a5\u7684\u5185\u5bb9","text":"<pre><code>SELECT m.*, CONCAT_WS('\u662f',prod_name,net_w,'\u5355\u4ef7',sale_price) AS \u4ea7\u54c1\u4fe1\u606f FROM milk_tea AS m;\nselect *, concat_ws('-', prod_name, net_w, '\u5355\u4ef7', sale_price) as \u4ea7\u54c1\u4fe1\u606f from milk_tea;\n</code></pre>"},{"location":"documents/sql/#_3","title":"\u5217\u4e2d\u91cd\u590d\u503c\u53bb\u91cd","text":"<pre><code>SELECT DISTINCT m.sale_price FROM milk_tea AS m;\nselect sale_price from milk_tea;\n</code></pre>"},{"location":"documents/sql/#_4","title":"\u6392\u5e8f\u5b50\u53e5\uff0c\u5bf9\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c\u6392\u5e8f","text":"<pre><code>SELECT * FROM milk_tea ORDER BY CONVERT(prod_name USING gbk);\nselect * from milk_tea order by convert(prod_name using gbk);\n</code></pre>"},{"location":"documents/sql/#_5","title":"\u7a7a\u503c\u5904\u7406","text":"<pre><code>SELECT * FROM milk_tea WHERE IFNULL(sale_price,15)=15;  select * from milk_tea where ifnull(sale_price, 15)=15;\n</code></pre>"},{"location":"documents/sql/#15-ifnullexpression-value-expressionvalue","title":"\u5982\u679c\u4e3a\u7a7a\uff0c\u5c31\u5f53\u621015\u8fdb\u884c\u8ba1\u7b97\uff0c\u53ea\u662f\u8ba1\u7b97\u65f6\u4e0d\u4f5c\u4e3a\u7a7a\u503c\uff0c\u5b9e\u9645\u8868\u4e2d\u7a7a\u503c\u5e76\u6ca1\u6709\u88ab\u586b\u5145; ifnull(expression, value) \u68c0\u67e5\u8868\u8fbe\u5f0fexpression\u662f\u5426\u4e3a\u7a7a\uff0c\u5982\u679c\u4e3a\u7a7a\u5219\u8fd4\u56devalue","text":"<pre><code>select * from milk_tea where IFNULL(sale_price,15)=15\nSELECT * FROM milk_tea WHERE IFNULL(sale_price,0)*0.9&lt;10;\n</code></pre>"},{"location":"documents/sql/#between-and-not-between","title":"between and \u662f\u5305\u542b\u8fb9\u754c\u503c\u7684\uff0cnot between\u4e0d\u5305\u62ec\u8fb9\u754c\u503c","text":"<pre><code>SELECT * FROM milk_tea WHERE in_price BETWEEN 5 AND 10;\nSELECT * FROM milk_tea WHERE sale_price IS NULL;\nSELECT * FROM milk_tea WHERE sale_price IS NOT NULL;\nSELECT * FROM milk_tea WHERE NOT sale_price &gt;=5 AND sale_price &lt;=15;\nselect * from milk_tea where not sale_price &gt;=5 and sale_price &lt;=15;\nSELECT * FROM milk_tea WHERE prod_name IN ('\u5976\u8336', '\u85af\u7247', '\u68d2\u68d2\u7cd6');\nselect * from milk_tea where prod_name in ('\u5976\u8336', '\u85af\u7247');\n</code></pre>"},{"location":"documents/sql/#_","title":"\u6a21\u7cca\u67e5\u8be2\uff0c\u901a\u914d\u7b26\u7684\u4f7f\u7528,_\u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\uff0c\u77e5\u9053\u5177\u4f53\u7684\u4f4d\u7f6e\uff1b\u800c%\u53ef\u4ee5\u4ee3\u8868\u591a\u4e2a\u5b57\u7b26\u6216\u8005\u7a7a\u5b57\u7b26\uff0c\u77e5\u9053\u5927\u6982\u4f4d\u7f6e","text":"<pre><code>SELECT * FROM milk_tea WHERE prod_name LIKE '\u5976_';\nSELECT * FROM milk_tea WHERE prod_name LIKE '%\u7cd6';\nselect * from milk_tea where prod_name like '\u85af_';\nSELECT * FROM milk_tea WHERE sale_price BETWEEN 5 AND 15 AND prod_name LIKE '\u85af_';\n</code></pre>"},{"location":"documents/sql/#count1countnull","title":"\u805a\u5408\u51fd\u6570\uff0c count(1)\u548ccount(*)\u90fd\u5305\u542bnull;","text":""},{"location":"documents/sql/#count1nullcountnull","title":"count(1)\u4f1a\u7edf\u8ba1\u5305\u62ecnull\u503c\u7684\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u5b57\u6bb5\u7684\u6761\u6570\u3002count(*)\u5c06\u8fd4\u56de\u8868\u683c\u4e2d\u6240\u6709\u5b58\u5728\u7684\u884c\u7684\u603b\u6570\u5305\u62ec\u503c\u4e3anull\u7684\u884c","text":"<pre><code>SELECT COUNT(*) FROM milk_tea;\nSELECT COUNT(1) FROM milk_tea;\nselect * from milk_tea\n</code></pre>"},{"location":"documents/sql/#countnull","title":"count(\u5217\u540d)\u5c06\u8fd4\u56de\u8868\u683c\u4e2d\u9664\u53bbnull\u4ee5\u5916\u7684\u6240\u6709\u884c\u7684\u603b\u6570(\u6709\u9ed8\u8ba4\u503c\u7684\u5217\u4e5f\u4f1a\u88ab\u8ba1\u5165\uff09","text":"<pre><code>SELECT COUNT(DISTINCT sale_price) FROM milk_tea; </code></pre>"},{"location":"documents/sql/#count","title":"COUNT\u662f\u552f\u4e00\u53ef\u4ee5\u7528*\u7684\u805a\u5408\u51fd\u6570\uff0c\u4e0d\u53ef\u4ee5\u5bf9\u591a\u5217\u8fdb\u884c\u8ba1\u6570.","text":"<pre><code>SELECT SUM(sale_price) FROM milk_tea;\nSELECT AVG(sale_price) FROM milk_tea;\nSELECT MAX(sale_price) FROM milk_tea;\nSELECT COUNT(1), SUM(sale_price), MAX(sale_price), MIN(sale_price), AVG(sale_price) FROM milk_tea;\n</code></pre>"},{"location":"documents/sql/#group-by","title":"\u5206\u7ec4\u6570\u636e GROUP BY,\u5bf9\u805a\u5408\u952e\u5148\u8fc7\u6ee4\u518d\u805a\u5408,\u8fc7\u6ee4\u884c","text":"<pre><code>SELECT net_w, SUM(sale_price) FROM milk_tea WHERE net_w IN ('100g','150g') GROUP BY net_w; </code></pre>"},{"location":"documents/sql/#_6","title":"\u5bf9\u805a\u5408\u7ed3\u679c\u518d\u6b21\u7b5b\u9009\u5f97\u5230\u5206\u7ec4\uff0c\u7b5b\u9009\u7ec4","text":""},{"location":"documents/sql/#havinggroup-by","title":"HAVING\u8bed\u53e5\u7528\u4e8e\u7b5b\u9009\u5206\u7ec4\u805a\u5408\u540e\u7684\u6570\u636e\uff0c\u53ea\u80fd\u5728GROUP BY\u5b50\u53e5\u4e4b\u540e\u4f7f\u7528","text":""},{"location":"documents/sql/#order-by-xxx-limit-1-offset-4","title":"ORDER BY  xxx Limit  1 Offset 4\u662f\u6700\u540e\u4e00\u6761\u7b5b\u9009\u8bed\u53e5","text":""},{"location":"documents/sql/#limit-xy-xy","title":"limit x,y            #\u8df3\u8fc7x\u6761\u6570\u636e\u8bfb\u53d6y\u6761\u6570\u636e","text":""},{"location":"documents/sql/#limit-y-offset-x-xy","title":"limit y offset x #\u8df3\u8fc7x\u6761\u6570\u636e\u8bfb\u53d6y\u6761\u6570\u636e","text":"<pre><code>SELECT net_w, COUNT(*) FROM milk_tea WHERE net_w IN ('100g','150g') GROUP BY net_w HAVING COUNT(*)&gt;=2 #having\u4e2d\u662f\u53ef\u4ee5\u4f7f\u7528\u805a\u5408\u51fd\u6570\u7684\nORDER BY net_w;\n</code></pre>"},{"location":"documents/sql/#_7","title":"\u591a\u8868\u67e5\u8be2","text":""},{"location":"documents/sql/#_8","title":"\u6807\u91cf\u5b50\u67e5\u8be2\uff0c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u503c","text":"<pre><code>SELECT sale_price FROM milk_tea WHERE prod_name = '\u5976\u8336';\nSELECT * FROM milk_tea AS m WHERE m.sale_price &gt; (\nSELECT sale_price FROM milk_tea WHERE prod_name = '\u5976\u8336');\nselect * from milk_tea as m where m.sale_price &gt; (select sale_price from milk_tea where prod_name = '\u5976\u8336');\nSELECT *, (SELECT sale_price FROM milk_tea WHERE prod_name = '\u5976\u8336') as m\nFROM milk_tea;\nSELECT class, AVG(sale_price)\nFROM prod_info\nGROUP BY class\nHAVING AVG(sale_price) &gt; (SELECT sale_price FROM milk_tea WHERE prod_name = '\u5976\u8336');\n</code></pre>"},{"location":"documents/sql/#_9","title":"\u5173\u8054\u5b50\u67e5\u8be2\uff0c\u5d4c\u5957\u5728\u5176\u4ed6\u67e5\u8be2\u4e2d\u7684\u67e5\u8be2","text":""},{"location":"documents/sql/#_10","title":"\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2","text":"<pre><code>SELECT prod_name FROM milk_tea WHERE sale_price=15;\n</code></pre>"},{"location":"documents/sql/#in","title":"\u5b50\u67e5\u8be2\u7ed3\u679c\u4e3a\u4e00\u5217\u503c\u65f6\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e0d\u8fde\u7eed\u7684\u53d6\u503c\u653e\u5728IN\u6761\u4ef6\u4e2d","text":"<pre><code>SELECT * FROM milk_tea AS m\nWHERE m.prod_name IN (SELECT prod_name FROM milk_tea WHERE sale_price=15);\n</code></pre>"},{"location":"documents/sql/#_11","title":"\u5b50\u67e5\u8be2\u7ed3\u679c\u4e3a\u4e00\u4e2a\u8868\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u5b50\u8868\u8fdb\u884c\u67e5\u8be2","text":"<pre><code>SELECT prod_name, type, sale_price FROM prod_info WHERE prod_name='\u62bd\u7eb8';                                     SELECT *\nFROM (SELECT prod_name, type, sale_price FROM prod_info WHERE prod_name='\u62bd\u7eb8') AS m\nWHERE m.sale_price &lt;=28;\n</code></pre>"},{"location":"documents/sql/#_12","title":"#\u76f8\u5173\u5b50\u67e5\u8be2\uff08\u67e5\u8be2\u672c\u90e8\u95e8\u6700\u9ad8\u5de5\u8d44\u7684\u5458\u5de5\uff09","text":""},{"location":"documents/sql/#where","title":"#\u76f8\u5173\u5b50\u67e5\u8be2\u7684\u6267\u884c\u4f9d\u8d56\u4e8e\u5916\u90e8\u67e5\u8be2\u3002\u591a\u6570\u60c5\u51b5\u4e0b\u662f\u5b50\u67e5\u8be2\u7684WHERE\u5b50\u53e5\u4e2d\u5f15\u7528\u4e86\u5916\u90e8\u67e5\u8be2\u7684\u8868\u3002","text":"<pre><code>--\u65b9\u6cd5\u4e00\u3001\u901a\u8fc7\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2\u5b9e\u73b0\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u8bed\u53e5\u8f83\u591a\uff0c\u5177\u4f53\u6709\u591a\u5c11\u90e8\u5206\u4e5f\u672a\u77e5\nSELECT * FROM emp WHERE deptno = 10 and sal = (SELECT MAX(sal) FROM emp WHERE deptno = 10)\nUNION\nSELECT * FROM emp WHERE deptno = 20 and sal = (SELECT MAX(sal) FROM emp WHERE deptno = 20)\nUNION\nSELECT * FROM emp WHERE deptno = 30 and sal = (SELECT MAX(sal) FROM emp WHERE deptno = 30)\n--\u65b9\u6cd5\u4e8c\u3001\u76f8\u5173\u5b50\u67e5\u8be2\uff0c\u5b50\u67e5\u8be2\u4e0d\u53ef\u4ee5\u72ec\u7acb\u8fd0\u884c\uff0c\u5148\u8fd0\u884c\u5916\u67e5\u8be2\uff0c\u518d\u8fd0\u884c\u91cc\u9762\u7684\nSELECT * FROM emp AS e WHERE sal = (SELECT MAX(sal) FROM emp WHERE deptno = e.deptno);\nselect * from emp as e where sal=(select max(sal) from emp where deptno=e.deptno);\nSELECT * from emp as e where sal = (select max(sal) from emp where deptno = e.deptno);\n--\u67e5\u8be2\u5de5\u8d44\u9ad8\u4e8e\u5176\u6240\u5728\u5c97\u4f4d\u7684\u5e73\u5747\u5de5\u8d44\u7684\u5458\u5de5\uff08\u76f8\u5173\u5b50\u67e5\u8be2\uff09\nSELECT * FROM emp AS e WHERE sal &gt; (SELECT AVERAGE(sal) FROM emp WHERE job = e.job);\n</code></pre>"},{"location":"documents/sql/#_13","title":"\u8868\u8054\u7ed3","text":""},{"location":"documents/sql/#inner-join","title":"\u5185\u8fde\u63a5 INNER JOIN \u8fd4\u56de\u4ea4\u96c6\u6570\u636e\u884c","text":""},{"location":"documents/sql/#left-join","title":"left join(\u5de6\u8054\u63a5) \u8fd4\u56de\u5305\u62ec\u5de6\u8868\u4e2d\u7684\u6240\u6709\u8bb0\u5f55\u548c\u53f3\u8868\u4e2d\u8054\u7ed3\u5b57\u6bb5\u76f8\u7b49\u7684\u8bb0\u5f55\uff0c\u53f3\u8868\u4e2d\u5339\u914d\u4e0d\u4e0a\u7684\u5b57\u6bb5\u7528\u7a7a\u503c\u586b\u5145","text":""},{"location":"documents/sql/#right-join","title":"right join(\u53f3\u8054\u63a5) \u8fd4\u56de\u5305\u62ec\u53f3\u8868\u4e2d\u7684\u6240\u6709\u8bb0\u5f55\u548c\u5de6\u8868\u4e2d\u8054\u7ed3\u5b57\u6bb5\u76f8\u7b49\u7684\u8bb0\u5f55\uff0c\u5de6\u8868\u4e2d\u5339\u914d\u4e0d\u4e0a\u7684\u5b57\u6bb5\u7a7a\u503c\u586b\u5145","text":""},{"location":"documents/sql/#left-join-null","title":"\u5de6\u8fde\u63a5 LEFT JOIN \u8fd4\u56de\u5339\u914d\u4e0a\u7684\u5de6\u8868\u6240\u6709\u884c\uff0c\u53f3\u8868\u4e2d\u6ca1\u5339\u914d\u4e0a\u7684\u8fd4\u56denull","text":""},{"location":"documents/sql/#right-join-null","title":"\u53f3\u8fde\u63a5 RIGHT JOIN \u8fd4\u56de\u5339\u914d\u4e0a\u7684\u53f3\u8868\u6240\u6709\u884c\uff0c\u5de6\u8868\u6ca1\u5339\u914d\u4e0a\u7684\u8fd4\u56denull","text":""},{"location":"documents/sql/#full-join-null","title":"\u5168\u8fde\u63a5 FULL JOIN  \u8fd4\u56de\u6709\u4ea4\u96c6\u7684\u884c\u548c\u6240\u6709\u5de6\u53f3\u8868\u6ca1\u5339\u914d\u4e0a\u7684\u884cnull","text":"<pre><code>SELECT * FROM prod_info AS p;\nSELECT * FROM supplier_info AS s;\nSELECT p.*, s.*\nFROM prod_info AS p, supplier_info AS s\nWHERE p.supplier_id=s.supplier_id;\nSELECT p.*, s.*\nFROM prod_info AS p LEFT OUTER JOIN supplier_info AS s ON p.supplier_id=s.supplier_id;\n</code></pre>"},{"location":"documents/sql/#unionselectunionunion","title":"\u7ec4\u5408\u67e5\u8be2UNION\uff0c\u591a\u6761SELECT\u8bed\u53e5\u7528UNION\u8054\u7ed3\u8d77\u6765\uff0c\u5e76\u4e14UNION\u6709\u53bb\u91cd\u529f\u80fd","text":""},{"location":"documents/sql/#_14","title":"\u6700\u7ec8\u7684\u8868\u5934\u4e0e\u7b2c\u4e00\u5f20\u8868\u4e00\u81f4\uff0c\u540c\u6837\u7684\u6570\u636e\u7c7b\u578b\u624d\u80fd\u591f\u5408\u5e76\u6210\u4e00\u5f20\u8868","text":"<pre><code>SELECT * FROM order_list AS l WHERE l.order_id LIKE '20190407%'\nUNION SELECT * FROM order_list AS l WHERE l.order_id LIKE '20190409%';\n</code></pre>"},{"location":"documents/sql/#_15","title":"\u5bf9\u5173\u7cfb\u578b\u6570\u636e\u8868\u7684\u589e\u5220\u6539","text":"<pre><code>SELECT * FROM prod_info;\nINSERT INTO prod_info VALUES(20003, '\u756a\u8304\u5473\u85af\u7247', '\u4e50\u4e8b', '80g', '\u96f6\u98df', 12.31, 18.30, 'NJ0002');\nINSERT INTO prod_info(prod_id, prod_name, brand, type) VALUES(30005, '\u82ac\u8fbe', '\u767e\u4e8b', '\u996e\u6599');\n</code></pre>"},{"location":"documents/sql/#asc-desc","title":"\u6570\u636e\u66f4\u65b0 ASC\u5347\u5e8f DESC\u964d\u5e8f","text":"<pre><code>SELECT * FROM prod_info ORDER BY prod_id ASC;\nUPDATE prod_info\nSET class = '\u4f11\u95f2\u96f6\u98df', sale_price = sale_price*0.9\nWHERE class='\u96f6\u98df';\nSELECT * FROM prod_info;\n</code></pre>"},{"location":"documents/sql/#_16","title":"\u6570\u636e\u5220\u9664","text":"<pre><code>delete from prod_info where prod_id='30005';\nSELECT * FROM prod_info;\nDELETE FROM prod_info WHERE prod_name='\u62bd\u7eb8'; #\u4ece\u8868\u4e2d\u5220\u9664\u4e00\u4e9b\u6570\u636e\nDELETE FROM prod_info;\n#DELETE\u662f\u53ef\u4ee5\u5e26WHERE\u7684,\u6240\u4ee5\u652f\u6301\u6761\u4ef6\u5220\u9664;\u800cTRUNCATE\u53ea\u80fd\u5220\u9664\u6574\u4e2a\u8868\u7684\u5185\u5bb9\nTRUNCATE TABLE prod_info;\n</code></pre>"},{"location":"documents/sql/#-nulldefault","title":"\u8868\u64cd\u4f5c-\u521b\u5efa\u8868  \u5b57\u6bb5\u540d\uff0c\u6570\u636e\u7c7b\u578b\uff0c\u5c5e\u6027\uff08\u5c5e\u6027\u4e3b\u8981\u5305\u62ec\u662f\u5426\u5141\u8bb8NULL\uff0c\u9ed8\u8ba4\u5141\u8bb8\uff1b\u9ed8\u8ba4\u503cDEFAULT\u8bbe\u7f6e\uff0c\u5fc5\u987b\u662f\u5e38\u6570\uff09","text":"<pre><code>CREATE TABLE pet1\n(\nname VARCHAR(255) NOT NULL,\nowner VARCHAR(255) NOT NULL,\nspecies VARCHAR(255),\nsex CHAR(1),\nbirth DATE,\ndeath DATE\n);\nCREATE TABLE PET1(\nNAME VARCHAR(255) NOT NULL,\nOWNER VARCHAR(255) NOT NULL,\nSPECIES VARCHAR(255),\nSEX CHAR(1),\nBIRTH DATE,\nDEATH DATE\n);\nSELECT * FROM pet1;\nINSERT INTO pet1(name, owner, species, sex, birth, death) VALUES('pupy', 'Shirley', 'dog', 'F', 20160901, 20210120);\nUPDATE pet1 SET name='pipy';\n</code></pre>"},{"location":"documents/sql/#_17","title":"\u590d\u5236\u8868","text":"<pre><code>CREATE TABLE pet5\nAS\nSELECT * FROM pet2;\ncreate table pet5 as (select * from pet2);\nSELECT * FROM pet5;\n</code></pre>"},{"location":"documents/sql/#_18","title":"\u5220\u9664\u8868","text":"<pre><code>DROP TABLE pet5;\nCREATE TABLE pet5\nAS SELECT name, owner FROM pet2;\nSELECT * FROM pet5;\n</code></pre>"},{"location":"documents/sql/#_19","title":"\u4fee\u6539\u8868\uff0c\u5bf9\u8868\u7ed3\u6784\u7684\u4fee\u6539\uff0c\u5bf9\u5b57\u6bb5\u7684\u589e\u5220\u64cd\u4f5c,\u4fee\u6539\u6570\u636e\u7c7b\u578b","text":"<pre><code>ALTER TABLE pet5 ADD sex CHAR(1);\nALTER TABLE pet5 ADD birth DATE NOT NULL;\nALTER TABLE pet5 DROP sex; # \u6216\u8005\u53ef\u4ee5\u7528DROP COLUMN\nSELECT * FROM pet5;\nALTER TABLE pet5 MODIFY COLUMN sex CHAR(2);\nalter table pet5 modify column sex char(2);\nALTER TABLE pet5 modify COLUMN sex char(5)\n</code></pre>"},{"location":"documents/sql/#_20","title":"\u5bf9\u8868\u8fdb\u884c\u66f4\u540d","text":"<pre><code>RENAME TABLE pet5 TO pet6;\nDROP TABLE pet6;\n</code></pre>"},{"location":"documents/sql/#_21","title":"\u89c6\u56fe\u672c\u8d28\u4e0a\u4e0a\u662f\u4e00\u4e2a\u67e5\u8be2\u8bed\u53e5\uff0c\u662f\u4e00\u4e2a\u865a\u62df\u7684\u4e0d\u5b58\u5728\u7684\u8868\uff0c\u5b83\u7684\u5185\u5bb9\u662f\u57fa\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u8868\u683c\u7684\u67e5\u8be2\u7ed3\u679c,\u4fee\u6539\u89c6\u56fe\u4f1a\u4fee\u6539\u5e95\u5c42\u57fa\u8868\u6570\u636e","text":""},{"location":"documents/sql/#_22","title":"\u89c6\u56fe\u662f\u57fa\u4e8e\u57fa\u8868\u8fdb\u884c\u64cd\u4f5c\u7684\uff0c\u89c6\u56fe\u662f\u6bcf\u6b21\u67e5\u8be2\u65f6\u52a8\u6001\u751f\u6210\u7684\u865a\u62df\u8868\uff0c\u4e0d\u53ef\u4ee5\u5b58\u50a8\u6570\u636e","text":""},{"location":"documents/sql/#_23","title":"\u89c6\u56fe\u53ef\u4ee5\u7b80\u5316\u590d\u6742\u67e5\u8be2\uff0c\u5982\u679c\u8981\u7ecf\u5e38\u6027\u5730\u6267\u884c\u67d0\u9879\u590d\u6742\u67e5\u8be2\uff0c\u5c31\u53ef\u4ee5\u57fa\u4e8e\u8fd9\u4e2a\u590d\u6742\u67e5\u8be2\u5efa\u7acb\u89c6\u56fe\uff0c\u4ee5\u540e\u67e5\u8be2\u6b64\u89c6\u56fe\u5373\u53ef","text":""},{"location":"documents/sql/#_24","title":"\u5982\u679c\u521b\u5efa\u7684\u662f\u53ea\u8bfb\u89c6\u56fe\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u5b89\u5168\u6027\uff0c\u7ed9\u4e0d\u540c\u7528\u6237\u5b9a\u5236\u5316\u663e\u793a\u6570\u636e","text":""},{"location":"documents/sql/#_25","title":"\u53ef\u4ee5\u50cf\u64cd\u4f5c\u8868\u4e00\u6837\u64cd\u4f5c\u89c6\u56fe\uff0c\u89c6\u56fe\u5982\u679c\u8bbe\u7f6e\u4e86\u6761\u4ef6\u8bed\u53e5\u63d2\u5165\u6570\u636e\u65f6\u53ef\u80fd\u4e0d\u663e\u793a\uff0c\u4f46\u57fa\u8868\u603b\u662f\u663e\u793a\u4fee\u6539\u7684","text":""},{"location":"documents/sql/#with-check-option","title":"\u89c6\u56fe\u6dfb\u52a0\u4e86\u68c0\u6d4b\u6761\u4ef6with check option\u540e\u5982\u679c\u6570\u636e\u4e0d\u6ee1\u8db3\u89c6\u56fe\u7684\u6761\u4ef6\u65f6\u63d2\u5165\u4f1a\u62a5\u9519","text":"<pre><code>SELECT * FROM pet2; #\u89c6\u56fe\u7684\u57fa\u8868\n--\u521b\u5efa/\u66ff\u6362\uff08\u5982\u679c\u89c6\u56fe\u5df2\u7ecf\u5b58\u5728\uff0c\u5c31\u662f\u66ff\u6362\u6216\u8005\u8bf4\u4fee\u6539\uff09\u5355\u8868\u89c6\u56fe\nCREATE OR REPLACE VIEW pet_show\nAS\nSELECT * FROM pet2\nWITH CHECK OPTION; #\u8be5\u8bed\u53e5\u8868\u660e\u5982\u679c\u63d2\u5165\u4e0d\u7b26\u5408\u8be5\u6761\u4ef6\u7684\u6570\u636e\uff0c\u5c31\u4f1a\u62a5\u9519\uff0c\u4e5f\u5373\u5bf9\u89c6\u56fe\u4fee\u6539\u589e\u52a0\u6570\u636e\u65f6\u5fc5\u987b\u7b26\u5408\u521b\u5efa\u8be5\u89c6\u56fe\u65f6\u7684where\u6761\u4ef6\ncreate view pet_show  as select * from pet2 with check option;\n--\u67e5\u770b\u89c6\u56fe\nSELECT * FROM pet_show;\n--\u5728\u89c6\u56fe\u4e2d\u63d2\u5165\u6570\u636e\nINSERT INTO pet_show(name, owner, species, sex) VALUES ('pangpang', 'David', 'cat', 'F');\nSELECT * FROM pet2; #\u5b9e\u9645\u7684\u8868\u4e2d\u4e5f\u88ab\u63d2\u5165\u4e86\u6570\u636e\n---\u521b\u5efa/\u66ff\u6362\u591a\u8868\u89c6\u56fe\nCREATE OR REPLACE VIEW myview02\nAS\nSELECT e.empno, e.ename, e.sal, d.deptno, d.dname FROM emp AS e\nJOIN dept AS d\nON e.deptno = d.deptno\nWHERE sal &gt; 2000\nSELECT name, owner FROM pet_show WHERE sex='m';\nDROP VIEW pet_show;\n</code></pre>"},{"location":"documents/sql/#-","title":"\u5b58\u50a8\u8fc7\u7a0b-\u5b9e\u73b0\u6a21\u5757\u5316\u7684\u7a0b\u5e8f\u8bbe\u8ba1\uff0c\u63d0\u9ad8\u6267\u884c\u6548\u7387\uff08\u5b9a\u4e49\u65f6\u4e00\u6b21\u7f16\u8bd1\u540e\u7eed\u76f4\u63a5\u8c03\u7528\uff09","text":""},{"location":"documents/sql/#_26","title":"\u5b9a\u4e49\u4e00\u4e2a\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u5b58\u50a8\u8fc7\u7a0b\uff0c\u5b9e\u73b0\u6a21\u7cca\u67e5\u8be2\u64cd\u4f5c","text":"<pre><code>SELECT * FROM pet2 WHERE name LIKE '%w%';\n</code></pre>"},{"location":"documents/sql/#_27","title":"\u5b9a\u4e49\u5b58\u50a8\u8fc7\u7a0b\uff0c\u7c7b\u4f3c\u4e00\u4e2a\u51fd\u6570\u5305\u542b\u51fd\u6570\u540d\u548c\u53c2\u6570","text":"<pre><code>CREATE PROCEDURE mypro01(name1 VARCHAR(10))\nBEGIN\nIF name1 IS NULL OR name1 ='' THEN\nSELECT * FROM pet2;\nELSE\nSELECT * FROM pet2 WHERE name LIKE CONCAT('%', name1, '%');\nEND IF;\nEND;\nCREATE PROCEDURE MYPRO01(NAME1 VARCHAR(10))\nBEGIN\nIF NAME1 IS NULL OR NAME1 = '' THEN\nSELECT * FROM PET2;\nELSE SELECT * FROM PET2 WHERE NAME LIKE CONCAT('%', NAME1, '%');\nEND IF;\nEND;\n</code></pre>"},{"location":"documents/sql/#_28","title":"\u5220\u9664\u5b58\u50a8\u8fc7\u7a0b","text":"<pre><code>DROP PROCEDURE mypro01;\nDROP PROCEDURE MYPRO01;\n</code></pre>"},{"location":"documents/sql/#_29","title":"\u8c03\u7528\u5b58\u50a8\u8fc7\u7a0b","text":"<pre><code>CALL mypro01(NULL);\nCALL mypro01('a');\nCALL test(12);\nDROP PROCEDURE test;\n</code></pre>"},{"location":"documents/sql/#_30","title":"\u5b9a\u4e49\u4e00\u4e2a\u6709\u8fd4\u56de\u503c\u7684\u5b58\u50a8\u8fc7\u7a0b","text":""},{"location":"documents/sql/#inout-found_rows","title":"IN\u8868\u793a\u8f93\u5165\u53c2\u6570\uff0c\u53ef\u4ee5\u7701\u7565\uff1bOUT \u8868\u793a\u8f93\u51fa\u53c2\u6570\uff0cFOUND_ROWS()\u4f5c\u7528\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u7684\u6761\u6570","text":"<pre><code>CREATE PROCEDURE mypro02(IN name1 VARCHAR(10), OUT num int(3))\nBEGIN\nIF name1 IS NULL OR name1 ='' THEN\nSELECT * FROM pet2;\nELSE\nSELECT * FROM pet2 WHERE name LIKE CONCAT('%', name1, '%');\nEND IF;\nSELECT FOUND_ROWS() INTO num;\nEND;\nDROP PROCEDURE mypro02;\nCALL mypro02(NULL, @num); #@\u533a\u522b\u4e86\u63a5\u6536\u7684\u7ed3\u679c\u53c2\u6570\nSELECT @num; #\u8fd4\u56de\u503c\u901a\u8fc7\u8fd9\u79cd\u5f62\u5f0f\u53ef\u4ee5\u67e5\u770b\nCALL mypro02('w', @aaa);\nSELECT @aaa;\n</code></pre>"},{"location":"documents/sql/#_31","title":"\u5e38\u7528\u51fd\u6570","text":"<pre><code>SELECT ROUND(-1.55); #\u56db\u820d\u4e94\u5165\u51fd\u6570\nSELECT CEIL(-1.2); #\u5411\u4e0a\u53d6\u6574\nSELECT CEILING(-1.2); #\u5411\u4e0a\u53d6\u6574\nSELECT FLOOR(-1.2); #\u5411\u4e0b\u53d6\u6574\nSELECT TRUNCATE(-1.222436457,2); #\u622a\u65ad\uff0c\u622a\u53d6\u6570\u5b57\u5230\u5c0f\u6570\u70b9\u540e\u4e24\u4f4d\nSELECT MOD(234,5); #\u76f8\u9664\u53d6\u4f59\nSELECT NOW(); #\u8fd4\u56de\u5f53\u524d\u65e5\u671f\u52a0\u65f6\u95f4\nSELECT CURDATE(); #\u8fd4\u56de\u5f53\u524d\u7cfb\u7edf\u65e5\u671f\u4e0d\u5305\u542b\u65f6\u95f4\nSELECT STR_TO_DATE('4#3-2021', '%m#%d-%Y'); #\u5c06\u5b57\u7b26\u4e32\u8f6c\u5316\u4e3a\u65e5\u671f\nSELECT DATE_FORMAT(NOW(), '%m#%d#%Y'); #\u5c06\u65e5\u671f\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\nSELECT SUBSTR('ABCD', 2); #\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u53ca\u5176\u4e4b\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u7d22\u5f15\u4ece1\u5f00\u59cb\nSELECT SUBSTR('ABCD', 1, 2); #\u4ece\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u622a\u53d6\u4e24\u4e2a\u5b57\u7b26\nSELECT INSTR('ABCD','CD'); #\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5728\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff08\u7d22\u5f15\u4ece1\u5f00\u59cb\uff09\uff0c\u82e5\u6ca1\u6709\u51fa\u73b0\uff0c\u8fd4\u56de0\nSELECT TRIM('#'FROM'##3vjsv###'); #\u53bb\u9664\u9996\u5c3e\u6307\u5b9a\u5b57\u7b26\uff0c\u82e5\u4e0d\u6307\u5b9a\u5219\u8868\u793a\u53bb\u9664\u7a7a\u683c\nSELECT REPLACE('ABCD','BC','#') #\u66ff\u6362\u6240\u6709\u6307\u5b9a\u5b57\u7b26\u4e32\u4e3a\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32\nSELECT VERSION(); #\u83b7\u53d6sql\u7248\u672c\u53f7\nSELECT USER(); #\u83b7\u53d6\u5f53\u524d\u7528\u6237\u540d\nSELECT DATABASE(); # \u83b7\u53d6\u5f53\u524d\u6240\u5728\u6570\u636e\u5e93\nSELECT ASCII('A'); # \u8fd4\u56de\u5b57\u7b26\u7684ASCII\u503c\nSELECT TRUNCATE(351.3253, 2); #\u4ece\u5c0f\u6570\u70b9\u53f3\u7b2c\u4e8c\u4f4d\u622a\u65ad\nSELECT TRUNCATE(351.3253, -2); # \u4ece\u5c0f\u6570\u70b9\u5de6\u7b2c\u4e8c\u4f4d\u622a\u65ad\n</code></pre>"},{"location":"documents/sql/#_32","title":"\u6d41\u7a0b\u63a7\u5236\u51fd\u6570","text":"<pre><code>SELECT IF(10&gt;5, '\u5927', '\u5c0f'); </code></pre>"},{"location":"documents/sql/#case-when","title":"CASE WHEN \u7528\u6cd5","text":"<pre><code>CASE\nWHEN \u6761\u4ef61 THEN \u8981\u663e\u793a\u7684\u503c1\u6216\u8005\u8bed\u53e51\nWHEN \u6761\u4ef62   THEN \u8981\u663e\u793a\u7684\u503c2\u6216\u8005\u8bed\u53e52\nWHEN \u6761\u4ef63 THEN \u8981\u663e\u793a\u7684\u503c3\u6216\u8005\u8bed\u53e53\nELSE  \u8981\u663e\u793a\u7684\u503cx\u6216\u8005\u4e0e\u8bed\u53e5x\nEND;\n</code></pre>"},{"location":"documents/sql/#transaction","title":"\u4e8b\u52a1Transaction","text":""},{"location":"documents/sql/#_33","title":"\u4e8b\u52a1\u662f\u4e00\u4e2a\u64cd\u4f5c\u5e8f\u5217\uff0c\u8be5\u5e8f\u5217\u4e2d\u7684\u64cd\u4f5c\u8981\u4e48\u90fd\u505a\u8981\u4e48\u90fd\u4e0d\u505a\uff0c\u53ef\u4ee5\u7b80\u5316\u9519\u8bef\u6062\u590d\u4f7f\u5e94\u7528\u7a0b\u5e8f\u66f4\u52a0\u53ef\u9760","text":""},{"location":"documents/sql/#acidatomicity-consistency-isolation-durability","title":"\u4e8b\u52a1\u5fc5\u987b\u5177\u5907\u7684ACID\u7279\u6027\uff1a\u539f\u5b50\u6027(Atomicity) \u4e00\u81f4\u6027(Consistency) \u9694\u79bb\u6027(Isolation) \u6301\u4e45\u6027(Durability)","text":""},{"location":"documents/sql/#_34","title":"#\u539f\u5b50\u6027\u662f\u8bf4\u4e8b\u52a1\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\u540c\u65f6\u6210\u529f\u6216\u8005\u540c\u65f6\u5931\u8d25\u56de\u6eda\uff1b\u4e00\u81f4\u6027\u57fa\u4e8e\u539f\u5b50\u6027\uff0c\u9694\u79bb\u6027\u662f\u5176\u4ed6\u4e8b\u52a1\u7684\u63d0\u4ea4\u7ed3\u679c\u662f\u5426\u5bf9\u5f53\u524d\u4e8b\u52a1\u53ef\u89c1\uff1b\u6301\u4e45\u6027\u662f\u8bf4\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u5bf9\u6570\u636e\u6240\u505a\u7684\u4efb\u4f55\u6539\u53d8\uff0c\u90fd\u8981\u8bb0\u5f55\u5230\u6c38\u4e45\u5b58\u50a8\u5668\u91cc","text":"<pre><code>-----------------sql\u4f7f\u7528\u4e8b\u52a1\u4fdd\u8bc1\u8f6c\u8d26\u5b89\u5168--------------------------\n--\u521b\u5efa\u8d26\u6237\u8868\uff1a\nCREATE TABLE account(\nid INT PRIMARY KEY auto_increment,#\u4e3b\u952e\u4e00\u822c\u4f7f\u5176\u4e3a\u81ea\u589e\u72b6\u6001\nuname VARCHAR(10) NOT NULL,\nbalance DOUBLE #\u8d26\u6237\u4f59\u989d\n);\n--\u67e5\u770b\u8d26\u6237\u8868\nSELECT * FROM account;\n--\u5728\u8868\u4e2d\u63d2\u5165\u6570\u636e\nINSERT INTO account VALUES (null, '\u4e3d\u4e3d', '2000'), (null, '\u5c0f\u521a', '2000');\n--\u4e3d\u4e3d\u7ed9\u5c0f\u521a\u8f6c\u8d26200\u5143\nUPDATE account SET balance = balance-200 WHERE uname = '\u4e3d\u4e3d';\nUPDATE account SET balance = balance+200 WHERE uname = '\u5c0f\u521a';\n---\u9ed8\u8ba4\u4e00\u4e2aDML\u8bed\u53e5\u662f\u4e00\u4e2a\u4e8b\u52a1\uff0c\u6240\u4ee5\u4e0a\u9762\u7684\u64cd\u4f5c\u6267\u884c\u4e862\u4e2a\u4e8b\u52a1\uff1b\u5fc5\u987b\u4f7f\u4e0a\u9762\u4e24\u4e2a\u64cd\u4f5c\u63a7\u5236\u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d\n--\u624b\u52a8\u5f00\u542f\u4e8b\u52a1;\nSTART TRANSACTION;\nUPDATE account SET balance = balance-200 WHERE uname = '\u4e3d\u4e3d';\nUPDATE account SET balance = balance+200 WHERE uname = '\u5c0f\u521a';\n--\u624b\u52a8\u56de\u6eda\uff0c\u521a\u624d\u6267\u884c\u7684\u64cd\u4f5c\u5168\u90e8\u53d6\u6d88;\u540e\u6094\u3002\nROLLBACK;\n--\u624b\u52a8\u63d0\u4ea4\nCOMMIT;\n---\u5728\u56de\u6eda\u548c\u63d0\u4ea4\u4e4b\u524d\uff0c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u90fd\u662f\u64cd\u4f5c\u7684\u7f13\u5b58\u6570\u636e\uff0c\u800c\u4e0d\u662f\u6570\u636e\u5e93\u4e2d\u7684\u771f\u5b9e\u6570\u636e\n</code></pre>"},{"location":"documents/sql/#_35","title":"\u4e8b\u52a1\u5e76\u53d1\u95ee\u9898","text":""},{"location":"documents/sql/#1dirty-read","title":"1.\u810f\u8bfb(Dirty read),\u53e6\u5916\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u5230\u4e86\u8fd8\u672a\u63d0\u4ea4\u7684\u6570\u636e","text":""},{"location":"documents/sql/#2unrepeatableread","title":"2.\u4e0d\u53ef\u91cd\u590d\u8bfb(Unrepeatableread),\u5982\u679c\u53e6\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u6570\u636e\u7684\u4fee\u6539\u5df2\u7ecf\u63d0\u4ea4\uff0c\u5c31\u4f1a\u5bfc\u81f4\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u4e24\u6b21\u8bfb\u53d6\u5230\u7684\u7ed3\u679c\u4e0d\u4e00\u6837","text":""},{"location":"documents/sql/#3","title":"3.\u5e7b\u8bfb\uff1b\u53e6\u4e00\u4e2a\u4e8b\u52a1\uff08\u65b0\u589e\u548c\u5220\u9664\uff09\u63d2\u5165\u4e86\u6570\u636e\uff0c\u5bfc\u81f4\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u53d1\u73b0\u591a\u4e86\u539f\u672c\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55","text":""},{"location":"documents/sql/#_36","title":"\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff08\u89e3\u51b3\u4e8b\u52a1\u5e76\u53d1\u95ee\u9898\uff09","text":""},{"location":"documents/sql/#read-uncommitted-read-committed-repeatable-read-serializable","title":"#\u9694\u79bb\u7ea7\u522b\u4ece\u4f4e\u5230\u9ad8\u4f9d\u6b21\u4e3a READ UNCOMMITTED\u8bfb\u672a\u63d0\u4ea4 ; READ COMMITTED\u8bfb\u63d0\u4ea4, REPEATABLE READ\uff08\u53ef\u91cd\u590d\u8bfb\uff0c\u4e8b\u52a1\u6267\u884c\u65f6\u57fa\u4e8e\u5feb\u7167\u9ed8\u8ba4\u7ea7\u522b\uff0c\u4e00\u822c\u7528\u8fd9\u4e2a\uff09; SERIALIZABLE(\u4e32\u884c\u5316\uff0c\u4e8b\u52a1\u6267\u884c\u65f6\u5bf9\u6570\u636e\u52a0\u9501\uff0c\u5176\u4ed6\u4e8b\u52a1\u65e0\u6cd5\u8bbf\u95ee\u6216\u8005\u4fee\u6539\u6570\u636e\uff0c\u4e00\u822c\u4e0d\u7528\uff0c\u6027\u80fd\u6700\u5dee)","text":"<pre><code>--\u67e5\u770b\u9ed8\u8ba4\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\nSELECT @@TRANSACTION_ISOLATION;\n--\u8bbe\u7f6e\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\uff08\u8bbe\u7f6e\u5f53\u524d\u4f1a\u8bdd\u7684\u9694\u79bb\u7ea7\u522b\uff09\nSET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;\nSET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTED;\nSET SESSION TRANSACTION ISOLATION LEVEL SERIALIZABLE;\nSTART TRANSACTION;\nSELECT * from account WHERE id=1;\n</code></pre>"},{"location":"documents/sql/#sql_1","title":"sql\u6570\u636e\u5e93\u8868\u8bbe\u8ba1\u6ee1\u8db3\u4e09\u5927\u8303\u5f0f","text":"<p>\u7b2c\u4e00\u8303\u5f0f(\u786e\u4fdd\u6bcf\u5217\u4fdd\u6301\u539f\u5b50\u6027)</p> <p>\u7b2c\u4e8c\u8303\u5f0f(\u786e\u4fdd\u8868\u4e2d\u7684\u6bcf\u5217\u90fd\u548c\u4e3b\u952e\u76f8\u5173)</p> <p>\u7b2c\u4e09\u8303\u5f0f(\u786e\u4fdd\u6bcf\u5217\u90fd\u548c\u4e3b\u952e\u5217\u76f4\u63a5\u76f8\u5173,\u800c\u4e0d\u662f\u95f4\u63a5\u76f8\u5173)</p>"},{"location":"documents/sql/#sql_2","title":"sql\u7d22\u5f15","text":"<p>\u7d22\u5f15\u7684\u539f\u7406</p> <p>\u4ee5\u7a7a\u95f4\u6362\u65f6\u95f4\uff0c\u6570\u636e\u5e93\u5728\u672a\u6dfb\u52a0\u7d22\u5f15\u7684\u65f6\u5019\u8fdb\u884c\u67e5\u8be2\u9ed8\u8ba4\u7684\u662f\u8fdb\u884c\u5168\u91cf\u641c\u7d22\uff0c\u4e5f\u5c31\u662f\u8fdb\u884c\u5168\u5c40\u626b\u63cf\uff0c\u6709\u591a\u5c11\u6761\u6570\u636e\u5c31\u8981\u8fdb\u884c\u591a\u5c11\u6b21\u67e5\u8be2\uff0c\u7136\u540e\u627e\u5230\u76f8\u5339\u914d\u7684\u6570\u636e\u5c31\u628a\u4ed6\u653e\u5230\u7ed3\u679c\u96c6\u4e2d\uff0c\u76f4\u5230\u5168\u8868\u626b\u63cf\u5b8c\u3002\u800c\u5efa\u7acb\u7d22\u5f15\u4e4b\u540e\uff0c\u4f1a\u5c06\u5efa\u7acb\u7d22\u5f15\u7684KEY\u503c\u653e\u5728\u4e00\u4e2an\u53c9\u6811\u4e0a\uff08B+Tree\uff09\u3002\u56e0\u6bcf\u6b21\u4ee5\u7d22\u5f15\u8fdb\u884c\u6761\u4ef6\u67e5\u8be2\u65f6\uff0c\u4f1a\u53bb\u6811\u4e0a\u6839\u636ekey\u503c\u76f4\u63a5\u8fdb\u884c\u641c\u7d22\uff0c\u6b21\u6570\u7ea6\u4e3alog\u603b\u6761\u6570\uff0c\u4f46\u662f\u5168\u91cf\u641c\u7d22\u4e3a100\u4e07\u6b21\u641c\u7d22\uff0c\u8fd9\u79cd\u65b9\u5f0f\u7c7b\u4f3c\u4e8e\u4e8c\u5206\u6cd5\uff0c\u4f46\u662f\u8fd9\u4e2a\u662fn\u5206\u6cd5\u3002</p> <p>B+\u6811\u6539\u8fdb\u4e86B\u6811, \u8ba9\u5185\u7ed3\u70b9\u53ea\u4f5c\u7d22\u5f15\u4f7f\u7528, \u53bb\u6389\u4e86\u5176\u4e2d\u6307\u5411data record\u7684\u6307\u9488, \u4f7f\u5f97\u6bcf\u4e2a\u7ed3\u70b9\u4e2d\u80fd\u591f\u5b58\u653e\u66f4\u591a\u7684key, \u8fd9\u6837\u5c31\u610f\u5473\u7740\u5b58\u653e\u540c\u6837\u591a\u7684key, \u6811\u7684\u5c42\u9ad8\u80fd\u8fdb\u4e00\u6b65\u88ab\u538b\u7f29, \u4f7f\u5f97\u68c0\u7d22\u7684\u65f6\u95f4\u66f4\u77ed. </p> <p>B+\u6811\u53f6\u2f26\u8282\u70b9\u5b58\u50a8\u4e86\u6240\u6709\u6570\u636e\u5e76\u4e14\u8fdb\u2f8f\u4e86\u6392\u5e8f\uff0c\u5e76\u4e14\u53f6\u2f26\u8282\u70b9\u4e4b\u95f4\u6709\u6307\u9488\uff0c\u53ef\u4ee5\u5f88\u597d\u7684\u2f40\u6301\u5168\u8868\u626b\u63cf\uff0c\u8303\u56f4\u67e5\u627e\u7b49SQL\u8bed\u53e5</p> <p>\u4ec0\u4e48\u662f\u7d22\u5f15</p> <p>\u7d22\u5f15\u6307\u6570\u636e\u5e93\u7684\u76ee\u5f55\uff0c\u6bd4\u5982\uff1a\u5b57\u5178\u4e0a\u9762\u7684\u5b57\u6bcd\u76ee\u5f55 (\u9002\u7528\u4e8e\u5927\u6570\u636e\u91cf)</p> <p>\u5efa\u7acb\u7d22\u5f15\u7684\u4f18\u7f3a\u70b9</p> <p>\u4f18\u70b9: \u67e5\u8be2\u901f\u5ea6\u5feb</p> <p>\u7f3a\u70b9: \u589e\u5220\u6539\u6162\uff0c\u56e0\u4e3a\u6570\u636e\u5e93\u8981\u540c\u6b65\u53bb\u7ef4\u62a4\u7d22\u5f15\u6587\u4ef6\uff0c\u6240\u4ee5\u901f\u5ea6\u6162</p> <p>\u7d22\u5f15\u6709\u4ec0\u4e48\u5206\u7c7b\uff1f</p> <ol> <li>\u4e3b\u952e\u7d22\u5f15\uff1a\u540d\u4e3aprimary\u7684\u552f\u4e00\u975e\u7a7a\u7d22\u5f15\uff0c\u4e0d\u5141\u8bb8\u6709\u7a7a\u503c\u3002</li> <li>\u552f\u4e00\u7d22\u5f15\uff1a\u7d22\u5f15\u5217\u4e2d\u7684\u503c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u4f46\u662f\u5141\u8bb8\u4e3a\u7a7a\u503c\u3002\u552f\u4e00\u7d22\u5f15\u548c\u4e3b\u952e\u7d22\u5f15\u7684\u533a\u522b\u662f\uff1aUNIQUE \u7ea6\u675f\u7684\u5217\u53ef\u4ee5\u4e3anull\u4e14\u53ef\u4ee5\u5b58\u5728\u591a\u4e2anull\u503c\u3002UNIQUE KEY\u7684\u7528\u9014\uff1a\u552f\u4e00\u6807\u8bc6\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\uff0c\u4e3b\u8981\u662f\u7528\u6765\u9632\u6b62\u6570\u636e\u91cd\u590d\u63d2\u5165\u3002\u521b\u5efa\u552f\u4e00\u7d22\u5f15\u7684SQL\u8bed\u53e5\u5982\u4e0b\uff1a</li> <li>\u7ec4\u5408\u7d22\u5f15\uff1a\u5728\u8868\u4e2d\u7684\u591a\u4e2a\u5b57\u6bb5\u7ec4\u5408\u4e0a\u521b\u5efa\u7684\u7d22\u5f15\uff0c\u53ea\u6709\u5728\u67e5\u8be2\u6761\u4ef6\u4e2d\u4f7f\u7528\u4e86\u8fd9\u4e9b\u5b57\u6bb5\u7684\u5de6\u8fb9\u5b57\u6bb5\u65f6\uff0c\u7d22\u5f15\u624d\u4f1a\u88ab\u4f7f\u7528\uff0c\u4f7f\u7528\u7ec4\u5408\u7d22\u5f15\u65f6\u9075\u5faa\u6700\u5de6\u524d\u7f00\u539f\u5219</li> <li>\u5168\u6587\u7d22\u5f15\uff1a\u53ea\u6709\u5728MyISAM\u5f15\u64ce\u4e0a\u624d\u80fd\u4f7f\u7528\uff0c\u53ea\u80fd\u5728CHAR,VARCHAR,TEXT\u7c7b\u578b\u5b57\u6bb5\u4e0a\u4f7f\u7528\u5168\u6587\u7d22\u5f15\u3002</li> </ol> <p>\u7d22\u5f15\u68c0\u7d22\u4e3a\u4ec0\u4e48\u5feb</p> <p>\u7d22\u5f15\u7ed3\u6784\uff1aB+Tree</p> <p>\u805a\u96c6\u7d22\u5f15\uff08\u4e3b\u952e\u7d22\u5f15\uff09\u548c\u975e\u805a\u96c6\u7d22\u5f15\uff08\u975e\u4e3b\u952e\u7d22\u5f15\uff09\u7684\u6839\u672c\u533a\u522b\u662f\u8868\u8bb0\u5f55\u7684\u6392\u5217\u987a\u5e8f\u548c\u4e0e\u7d22\u5f15\u7684\u6392\u5217\u987a\u5e8f\u662f\u5426\u4e00\u81f4\uff1b\u805a\u96c6\u7d22\u5f15\u5b58\u50a8\u8bb0\u5f55\u662f\u7269\u7406\u4e0a\u8fde\u7eed\u5b58\u5728\uff0c\u800c\u975e\u805a\u96c6\u7d22\u5f15\u662f\u903b\u8f91\u4e0a\u7684\u8fde\u7eed\uff0c\u7269\u7406\u4e0a\u5e76\u4e0d\u8fde\u7eed</p> <p>\u4e3a\u4ec0\u4e48\u4e3b\u952e\u7d22\u5f15\u67e5\u8be2\u66f4\u5feb\u5462</p> <p>\u56e0\u4e3a\u4e3b\u952e\u7d22\u5f15\u6811\u7684\u53f6\u5b50\u8282\u70b9\u76f4\u63a5\u5c31\u662f\u6211\u4eec\u8981\u67e5\u8be2\u7684\u6574\u884c\u6570\u636e\u4e86\u3002\u800c\u975e\u4e3b\u952e\u7d22\u5f15\u7684\u53f6\u5b50\u8282\u70b9\u662f\u4e3b\u952e\u7684\u503c\uff0c\u67e5\u5230\u4e3b\u952e\u7684\u503c\u4ee5\u540e\uff0c\u8fd8\u9700\u8981\u518d\u901a\u8fc7\u4e3b\u952e\u7684\u503c\u518d\u8fdb\u884c\u4e00\u6b21\u67e5\u8be2\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u56de\u8868</p> <p>\u975e\u4e3b\u952e\u7d22\u5f15\u4e00\u5b9a\u4f1a\u67e5\u8be2\u591a\u6b21\u5417\uff1f</p> <p>\u53ef\u4ee5\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u6765\u51cf\u5c11\u67e5\u8be2\u6b21\u6570</p> <p>\u5f53sql\u8bed\u53e5\u7684\u6240\u6c42\u67e5\u8be2\u5b57\u6bb5\uff08select\u5217\uff09\u548c\u67e5\u8be2\u6761\u4ef6\u5b57\u6bb5\uff08where\u5b50\u53e5\uff09\u5168\u90fd\u5305\u542b\u5728\u4e00\u4e2a\u7d22\u5f15\u4e2d\uff08\u8054\u5408\u7d22\u5f15\uff09\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7d22\u5f15\u67e5\u8be2\u800c\u4e0d\u9700\u8981\u56de\u8868\u3002\u8fd9\u5c31\u662f\u8986\u76d6\u7d22\u5f15</p> <p>\u7d22\u5f15\u7684\u4f18\u70b9\uff1a</p> <p>\u2460 \u5efa\u7acb\u7d22\u5f15\u7684\u5217\u53ef\u4ee5\u4fdd\u8bc1\u884c\u7684\u552f\u4e00\u6027\uff0c\u751f\u6210\u552f\u4e00\u7684rowId</p> <p>\u2461 \u5efa\u7acb\u7d22\u5f15\u53ef\u4ee5\u6709\u6548\u7f29\u77ed\u6570\u636e\u7684\u68c0\u7d22\u65f6\u95f4</p> <p>\u2462 \u5efa\u7acb\u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u8868\u4e0e\u8868\u4e4b\u95f4\u7684\u8fde\u63a5</p> <p>\u2463 \u4e3a\u7528\u6765\u6392\u5e8f\u6216\u8005\u662f\u5206\u7ec4\u7684\u5b57\u6bb5\u6dfb\u52a0\u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u5206\u7ec4\u548c\u6392\u5e8f\u987a\u5e8f</p> <p>\u7d22\u5f15\u7684\u7f3a\u70b9\uff1a</p> <p>\u2460 \u521b\u5efa\u7d22\u5f15\u548c\u7ef4\u62a4\u7d22\u5f15\u9700\u8981\u65f6\u95f4\u6210\u672c\uff0c\u8fd9\u4e2a\u6210\u672c\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u52a0\u800c\u52a0\u5927</p> <p>\u2461 \u521b\u5efa\u7d22\u5f15\u548c\u7ef4\u62a4\u7d22\u5f15\u9700\u8981\u7a7a\u95f4\u6210\u672c\uff0c\u6bcf\u4e00\u6761\u7d22\u5f15\u90fd\u8981\u5360\u636e\u6570\u636e\u5e93\u7684\u7269\u7406\u5b58\u50a8\u7a7a\u95f4\uff0c\u6570\u636e\u91cf\u8d8a\u5927\uff0c\u5360\u7528\u7a7a\u95f4\u4e5f\u8d8a\u5927\uff08\u6570\u636e\u8868\u5360\u636e\u7684\u662f\u6570\u636e\u5e93\u7684\u6570\u636e\u7a7a\u95f4\uff09</p> <p>\u2462 \u4f1a\u964d\u4f4e\u8868\u7684\u589e\u5220\u6539\u7684\u6548\u7387\uff0c\u56e0\u4e3a\u6bcf\u6b21\u589e\u5220\u6539\u7d22\u5f15\u9700\u8981\u8fdb\u884c\u52a8\u6001\u7ef4\u62a4\uff0c\u5bfc\u81f4\u65f6\u95f4\u53d8\u957f</p> <p>\u4e00\u822c\u4f60\u4eec\u4f1a\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u52a0\u7d22\u5f15</p> <p>\u9891\u7e41\u4f5c\u4e3a\u67e5\u8be2\u6761\u4ef6\u7684\u5b57\u6bb5\u5e94\u8be5\u521b\u5efa\u7d22\u5f15</p> <p>\u67e5\u8be2\u4e2d\u4e0e\u5176\u4ed6\u8868\u5173\u8054\u7684\u5b57\u6bb5\uff0c\u5916\u952e\u5173\u7cfb\u5efa\u7acb\u7d22\u5f15</p> <p>\u67e5\u8be2\u4e2d\u6392\u5e8f\u3001\u5206\u7ec4\u7684\u5b57\u6bb5</p> <p>\u600e\u4e48\u77e5\u9053\u7d22\u5f15\u7528\u6ca1\u7528\u4e0a</p> <p>\u901a\u8fc7explain\u67e5\u8be2sql\u6267\u884c\u8ba1\u5212\uff0c\u5728\u8981\u67e5\u8be2\u7684\u8bed\u53e5\u524d\u9762\u52a0\u4e0aexplain plan for </p> <p>\u7528\u8fc7\u7ec4\u5408\u7d22\u5f15\u5417\uff0c\u662f\u6709\u5e8f\u7684\u5417</p> <p>\u7528\u8fc7\uff0c \u6709\u5e8f(\u6700\u5de6\u539f\u5219)</p> <p>\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u4f7f\u7d22\u5f15\u5931\u6548\uff1f</p> <p>\uff081\uff09like</p> <p>\uff082\uff09like \u201c%123%\uff0c\u524d\u9762\u4e0d\u80fd+%</p> <p>\uff083\uff09\u4f7f\u7528 \u5173\u952e\u5b57 in \uff0cor \uff0cnull\uff0c!=</p> <p>sql\u4f18\u5316\u60a8\u4eec\u662f\u600e\u4e48\u505a\u7684\uff1f</p> <p>\u4e00.\u9996\u5148\u5f00\u542f\u6570\u636e\u5e93\u6162\u67e5\u8be2\u65e5\u5fd7\uff0c\u5b9a\u4f4d\u5230\u67e5\u8be2\u6548\u7387\u6bd4\u8f83\u4f4e\u7684sql , \u627e\u51fa\u5bf9\u5e94\u7684sql\u8bed\u53e5\u5e76\u8fdb\u884c\u5206\u6790</p> <p>1.\u8868\u8bbe\u8ba1\u662f\u5426\u89c4\u8303\uff0c\u662f\u5426\u7b26\u5408\u4e09\u8303\u5f0f\u7684\u6807\u51c6</p> <p>\uff081\uff09\u7b2c\u4e00\u8303\u5f0f\uff1a\u4fdd\u8bc1\u539f\u5b50\u6027\uff08\u4e0d\u53ef\u62c6\u5206\uff09\u5b57\u6bb5\u7684\u539f\u5b50\u5316\u662f\u6307\u4e00\u4e2a\u5b57\u6bb5\u91cc\u4e0d\u8981\u5305\u62ec\u591a\u4e2a\u540c\u7c7b\u578b\u7684\u503c</p> <p>\uff082\uff09\u7b2c\u4e8c\u8303\u5f0f\uff1a\u6bcf\u4e00\u5217\u90fd\u6709\u4e3b\u952e\u76f8\u5173</p> <p>\uff083\uff09\u7b2c\u4e09\u8303\u5f0f\u6bcf\u4e00\u5217\u4e0e\u4e3b\u952e\u76f4\u63a5\u76f8\u5173\u800c\u4e0d\u662f\u95f4\u63a5\u76f8\u5173\uff0c\u51cf\u5c11\u5197\u4f59\u5b57\u6bb5\u7684\u7ea6\u675f</p> <p>2.\u67e5\u770b\u6570\u636e\u8868\u4e2d\u662f\u5426\u5b58\u5728\u5927\u91cf\u7684\u5197\u4f59\u5b57\u6bb5\uff0c\u5b57\u6bb5\u6570\u636e\u7c7b\u578b\u662f\u5426\u5408\u7406</p> <p>3.\u5c3d\u53ef\u80fd\u7684\u4f7f\u7528varchar\u4ee3\u66ffchar \u5efa\u8868\u6570\u636e\u7c7b\u578b\uff0c\u80fd\u7528\u6570\u503c\u7684\u7edd\u5bf9\u4e0d\u7528\u5b57\u7b26\u5b58\u50a8</p> <p>4.\u5c3d\u91cf\u907f\u514dnull\u503c\uff0c\u4f7f\u7528\u9ed8\u8ba4\u503c\u66ff\u4ee3\u7a7a\u503c\uff0c\u6570\u503c\u578b\u53ef\u4ee5\u4f7f\u75280\uff0c\u5b57\u7b26\u578b\u53ef\u4ee5\u4f7f\u7528\u7a7a\u5b57\u7b26\u4e32</p> <p>\u4e8c.\u67e5\u770bsql\u8bed\u53e5\u662f\u5426\u89c4\u8303</p> <p>\uff081\uff09\u907f\u514d\u4f7f\u7528\u5173\u952e\u5b57\uff1aor \uff0cin\uff0cnot in \uff0c!=\uff0c&lt;&gt;\uff0c\u907f\u514d\u4f7f\u7528select *</p> <p>\uff082\uff09\u5c3d\u91cf\u907f\u514d\u5b50\u67e5\u8be2\uff0c\u5927\u90e8\u5206\u5b50\u67e5\u8be2\u90fd\u53ef\u4ee5\u8fde\u63a5\u67e5\u8be2</p> <p>\uff083\uff09\u7528\u5230or\u7684\u5730\u65b9\u53ef\u4ee5\u4f7f\u7528union\u53bb\u4ee3\u66ff\u5b9e\u73b0</p> <p>\uff084\uff09\u7528\u5230in\u7684\u5730\u65b9\u53ef\u4ee5\u4f7f\u7528exists\u53bb\u4ee3\u66ff</p> <p>\u4e09.\u5206\u6790sql\u7684\u7d22\u5f15\u662f\u5426\u53ef\u4ee5\u7528\u4e0a</p> <p>\uff081) explain\u67e5\u8be2sql\u7684\u6267\u884c\u8ba1\u5212,\u91cd\u70b9\u5173\u6ce8\u7684\u51e0\u4e2a\u5217\u5c31\u662f\uff0ctype\u662f\u4e0d\u662f\u5168\u8868\u626b\u63cf</p> <p>\uff082\uff09\u770b\u4e00\u4e0b\u7d22\u5f15\u662f\u5426\u80fd\u591f\u7528\u7684\u4e0a,\u4e3b\u8981\u770bkey\u4f7f\u7528\u7684\u662f\u54ea\u4e2a\u7d22\u5f15</p> <p>\uff083\uff09\u770b\u4e00\u4e0brows\u626b\u63cf\u884c\u6570\u662f\u4e0d\u662f\u5f88\u5927</p> <p>\u56db.\u53ef\u4ee5\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\uff0c\u51cf\u5c11\u7f16\u8bd1\u65f6\u95f4</p> <p>Null\u548c\u7a7a\u503c\u7684\u533a\u522b\uff0c\u5982\u4f55\u63d0\u53d6\u51fa\u6765</p> <p>\u7a7a\u503c\u5728SQL\u4e2d\u4e0d\u5360\u5185\u5b58\u7a7a\u95f4,\u800cNULL\u503c\u4f1a\u5206\u914d\u5185\u5b58\u7a7a\u95f4</p> <p>SQL\u4e2dCount()\u6c42\u548c,\u5bf9NULL\u503c\u4f1a\u81ea\u52a8\u5ffd\u7565\u800c\u7a7a\u503c\u4f1a\u8bb0\u5f55\u4e00\u7b14\u8d44\u6599.</p> <p>\u5b9a\u4e49\u4e3aNOT NULL\u7684\u5b57\u6bb5\u53ea\u80fd\u63d2\u5165\u7a7a\u503c\uff0c\u4e0d\u80fd\u63d2\u5165null\u503c\uff0c\u800cNULL\u5b57\u6bb5\u53ef\u4ee5\u63d2\u5165\u7a7a\u503c\uff0c\u4e5f\u53ef\u4ee5\u63d2\u5165null\u503c</p> <p>\u5224\u65adNULL \u7528IS NULL \u6216\u8005 is not null,SQL \u8bed\u53e5\u51fd\u6570\u4e2d\u53ef\u4ee5\u4f7f\u7528ifnull()\u51fd\u6570\u6765\u8fdb\u884c\u5904\u7406\uff0c\u5224\u65ad\u7a7a\u5b57\u7b26\u7528 =\u201d\u6216\u8005 &lt;&gt;\u201d\u6765\u8fdb\u884c\u5904\u7406</p> <p>\u5f53\u4f7f\u7528ORDER BY\u65f6\uff0c\u9996\u5148\u5448\u73b0NULL\u503c\u3002\u5982\u679c\u4f60\u7528DESC\u4ee5\u964d\u5e8f\u6392\u5e8f\uff0cNULL\u503c\u6700\u540e\u663e\u793a\u3002\u5f53\u4f7f\u7528GROUP BY\u65f6\uff0c\u6240\u6709\u7684NULL\u503c\u88ab\u8ba4\u4e3a\u662f\u76f8\u7b49\u7684\uff0c\u6545\u53ea\u663e\u793a\u4e00\u884c\u3002</p> <p>count(1)\u3001count(*)\u548ccount(\u5b57\u6bb5\u540d)\u6267\u884c\u6548\u679c\u4e0a\u7684\u533a\u522b</p> <p>count(*)\u5305\u62ec\u4e86\u6240\u6709\u7684\u5217\uff0c\u76f8\u5f53\u4e8e\u884c\u6570\uff0c\u5728\u7edf\u8ba1\u7ed3\u679c\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u5ffd\u7565\u5217\u503c\u4e3aNULL</p> <p>count(1)\u5305\u62ec\u4e86\u5ffd\u7565\u6240\u6709\u5217\uff0c\u75281\u4ee3\u8868\u4ee3\u7801\u884c\uff0c\u5728\u7edf\u8ba1\u7ed3\u679c\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u5ffd\u7565\u5217\u503c\u4e3aNULL</p> <p>count(\u5217\u540d)\u53ea\u5305\u62ec\u5217\u540d\u90a3\u4e00\u5217\uff0c\u5728\u7edf\u8ba1\u7ed3\u679c\u7684\u65f6\u5019\uff0c\u4f1a\u5ffd\u7565\u5217\u503c\u4e3a\u7a7a\uff08\u8fd9\u91cc\u7684\u7a7a\u4e0d\u662f\u53ea\u7a7a\u5b57\u7b26\u4e32\u6216\u80050\uff0c\u800c\u662f\u8868\u793anull\uff09\u7684\u8ba1\u6570\uff0c\u5373\u67d0\u4e2a\u5b57\u6bb5\u503c\u4e3aNULL\u65f6\uff0c\u4e0d\u7edf\u8ba1\u3002</p> <p>\u5927\u8868\u67e5\u8be2\u6162\u5982\u4f55\u89e3\u51b3</p> <p>1\u3001 \u5408\u7406\u5efa\u7acb\u7d22\u5f15\uff0c\u901a\u5e38\u67e5\u8be2\u5229\u7528\u5230\u7d22\u5f15\u6bd4\u4e0d\u7528\u7d22\u5f15\u66f4\u5feb\uff1b</p> <p>2\u3001 \u901a\u8fc7\u5206\u5e93\u5206\u8868\u7684\u65b9\u5f0f\u8fdb\u884c\u4f18\u5316\uff0c\u4e3b\u8981\u6709\u5782\u76f4\u62c6\u5206\u548c\u6c34\u5e73\u62c6\u5206\u3002\u5bf9\u5173\u952e\u5b57\u6bb5\u5efa\u7acb\u6c34\u5e73\u5206\u533a\uff0c\u6bd4\u5982\u65f6\u95f4\u5b57\u6bb5\uff0c\u82e5\u67e5\u8be2\u6761\u4ef6\u5f80\u5f80\u901a\u8fc7\u65f6\u95f4\u8303\u56f4\u6765\u8fdb\u884c\u67e5\u8be2\uff0c\u80fd\u63d0\u5347\u4e0d\u5c11\u6027\u80fd\uff1b</p> <p>3\u3001 \u6839\u636e\u67e5\u8be2\u5efa\u7acb\u5bf9\u5e94\u7684\u8868\uff0c\u5b9a\u65f6\u5bf9\u91cd\u590d\u7684\u8bb0\u5f55\u8fdb\u884c\u538b\u7f29\u8f6c\u5b58\u81f3\u65b0\u8868\uff0c\u7c92\u5ea6\u53d8\u5927\uff0c\u6570\u636e\u8bb0\u5f55\u53d8\u5c11\u3002\u5728\u8868\u7684\u547d\u540d\u4e0a\u4f53\u73b0\u67e5\u8be2\u6761\u4ef6\u589e\u52a0\u67e5\u8be2\u901f\u5ea6</p> <p>4\u3001 \u8bfb\u5199\u5206\u79bb\uff1a \u7ecf\u5178\u7684\u6570\u636e\u5e93\u62c6\u5206\u65b9\u6848\uff0c\u4e3b\u5e93\u8d1f\u8d23\u5199\uff0c\u4ece\u5e93\u8d1f\u8d23\u8bfb\uff1b</p>"},{"location":"documents/sql/#sql_3","title":"\u7ecf\u5178sql\u95ee\u9898","text":""},{"location":"documents/sql/#n","title":"\u6bcf\u4e2a\u5206\u7ec4\u4e2d\u8fde\u7eed\u51fa\u73b0N\u6b21\u7684\u95ee\u9898","text":"<p>\u6d89\u53ca\u5230\u6bcf\u4e2a\uff0c\u8981\u60f3\u5230\u7528\u5206\u7ec4\u6216\u8005\u7a97\u53e3\u51fd\u6570\uff0c\u4f8b\u5982\uff1a</p> <pre><code>select *,\nrank() over(partition by \u7403\u961f order by \u5f97\u5206\u65f6\u95f4) as \u6392\u540d\nfrom \u5206\u6570\u8868;\n</code></pre> <p>\u5982\u4f55\u7528SQL\u5b9e\u73b0\u4e0a\u8ff0\u9519\u4f4d\u4e24\u5217\u7684\u6548\u679c\u5462\uff1f</p> <p>\u53ef\u4ee5\u7528\u7a97\u53e3\u51fd\u6570lag\u6216\u8005lead\uff1a</p> <p>\u5411\u4e0a\u7a97\u53e3\u51fd\u6570lead\uff1a\u53d6\u51fa\u5b57\u6bb5\u540d\u6240\u5728\u7684\u5217\uff0c\u5411\u4e0aN\u884c\u7684\u6570\u636e\uff0c\u4f5c\u4e3a\u72ec\u7acb\u7684\u5217</p> <p>\u5411\u4e0b\u7a97\u53e3\u51fd\u6570lag\uff1a\u53d6\u51fa\u5b57\u6bb5\u540d\u6240\u5728\u7684\u5217\uff0c\u5411\u4e0bN\u884c\u7684\u6570\u636e\uff0c\u4f5c\u4e3a\u72ec\u7acb\u7684\u5217</p> <p>\u7a97\u53e3\u51fd\u6570\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <p>lag(\u5b57\u6bb5\u540d,N,\u9ed8\u8ba4\u503c) over(partion by \u2026order by \u2026)</p> <p>lead(\u5b57\u6bb5\u540d,N,\u9ed8\u8ba4\u503c) over(partion by \u2026order by \u2026)</p> <p>\u9ed8\u8ba4\u503c\u662f\u6307\uff0c\u5f53\u5411\u4e0aN\u884c\u6216\u8005\u5411\u4e0bN\u884c\u503c\u65f6\uff0c\u5982\u679c\u5df2\u7ecf\u8d85\u51fa\u4e86\u8868\u884c\u548c\u5217\u7684\u8303\u56f4\u65f6\uff0c\u4f1a\u5c06\u8fd9\u4e2a\u9ed8\u8ba4\u503c\u4f5c\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u82e5\u6ca1\u6709\u6307\u5b9a\u9ed8\u8ba4\u503c\uff0c\u5219\u8fd4\u56deNull\u3002</p> <p>\u4f8b\u5982\uff0c\u8981\u6c42\u8fde\u7eed\u51fa\u73b0\u4e09\u6b21\u7684\u503c\uff0c\u5206\u522b\u5f97\u5230\u5411\u4e0a\u504f\u79fb\u4e00\u884c\u548c\u4e24\u884c\u7684\u5217</p> <pre><code>select \u7403\u5458\u59d3\u540d,       lead(\u7403\u5458\u59d3\u540d,1) over(partition by \u7403\u961f order by \u5f97\u5206\u65f6\u95f4) as \u59d3\u540d1,       lead(\u7403\u5458\u59d3\u540d,2) over(partition by \u7403\u961f order by \u5f97\u5206\u65f6\u95f4) as \u59d3\u540d2\nfrom \u5206\u6570\u8868;\n</code></pre> <pre><code>select distinct \u7403\u5458\u59d3\u540d\nfrom(\nselect \u7403\u5458\u59d3\u540d,\nlead(\u7403\u5458\u59d3\u540d,1) over(partition by \u7403\u961f order by \u5f97\u5206\u65f6\u95f4) as \u59d3\u540d1,\nlead(\u7403\u5458\u59d3\u540d,2) over(partition by \u7403\u961f order by \u5f97\u5206\u65f6\u95f4) as \u59d3\u540d2\nfrom \u5206\u6570\u8868) as a\nwhere (a.\u7403\u5458\u59d3\u540d = a.\u59d3\u540d1 and a.\u7403\u5458\u59d3\u540d = a.\u59d3\u540d2);\n</code></pre> <p>\u53e6\u4e00\u79cd\u89e3\u6cd5\uff0c\u53c2\u8003\u529b\u6263180\u9898\uff1a\u65b0\u589e\u4e00\u5217\u4f7fnum\u5217\u5206\u533a\u6309\u7167id\u6392\u5e8f\uff1b\u548cid\u5217\u5e8f\u53f7\u76f8\u51cf\u7684\u5dee\u76f8\u7b49\u8bf4\u660e\u662f\u8fde\u7eed\u51fa\u73b0\u7684\u6570</p> <pre><code>select distinct a.num ConsecutiveNums\nfrom (\nselect *, (row_number() over(order by id) - row_number() over(partition by Num order by id)) as minus from Logs ) a group by a.Num, a.minus having count(*)&gt;=3;\n</code></pre>"}]}